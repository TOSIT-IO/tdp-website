<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/122c360d7fe6d395-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/14df86764872c516.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-ec92c39bb73f7742.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-c2a0c117d6b22158.js" async="" crossorigin=""></script><script src="/_next/static/chunks/472-017a6255fc411d81.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-a8ddfea67571a4c3.js" async="" crossorigin=""></script><script src="/_next/static/chunks/326-bbc95b41f8249005.js" async=""></script><script src="/_next/static/chunks/194-921bca424ee89dc7.js" async=""></script><script src="/_next/static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/layout-cc31eff5e3abd505.js" async=""></script><script src="/_next/static/chunks/713-ee755527c43ec9d0.js" async=""></script><script src="/_next/static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/page-f05a753553fcc324.js" async=""></script><title>Getting Started with TDP | TDP</title><meta name="description" content="Deploy a local development cluster with Vagrant and virtual machines.
"/><link rel="author" href="https://adaltas.com"/><meta name="author" content="David Worms"/><meta name="category" content="technology"/><link rel="icon" href="/favicon.svg"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="relative h-full text-slate-200 dark bg-[#263134] __variable_e66fe9 font-sans __variable_33541e"><header class="fixed top-0 w-full z-10 h-[60px] flex border-b border-slate-500 px-6 xl:pl-0" style="background:radial-gradient(50% 50% at 50% 50%, rgba(14, 11, 22, 0.12) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(17.86% 94.3% at 87.98% 36.67%, rgba(27, 83, 83, 0.18) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(50.96% 97.73% at 18.2% 68.08%, rgba(28, 74, 74, 0.26) 0%, rgba(0, 0, 0, 0) 100%), rgba(44, 48, 49, 0.90)"><div class="h-full w-auto xl:w-[400px] py-[12px] flex xl:bg-black/20 xl:border-r xl:border-r-white/10"><a class="relative w-full" href="/"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 113 44" class="h-full m-auto"><path fill="#fff" d="M100.189 11.847h-11.72v6.246a16.088 16.088 0 0 0-12.735-6.246H40.439v7.35h7.932v24.604h7.395V19.198h7.495v8.823h7.395v-8.823h5.078c4.784 0 8.677 3.87 8.677 8.625s-3.893 8.625-8.677 8.625h-5.038v7.35h5.038c5.18 0 9.794-2.451 12.735-6.245v6.246h7.395v-8.474h4.325c6.512 0 11.812-5.266 11.812-11.742 0-6.47-5.3-11.736-11.812-11.736m0 16.13h-4.325v-8.78h4.325c2.435 0 4.415 1.97 4.415 4.389 0 2.42-1.982 4.39-4.415 4.39M25.898 21.314c-2.131 4.5-3.172 5.732-4.831 5.732-1.52 0-2.656-.909-2.656-1.722h-7.395c0 5.003 4.509 9.076 10.053 9.076 6.808 0 9.535-5.754 11.524-9.954 1.206-2.546 2.603-4.042 4.564-4.745v-7.575c-5.051.88-8.755 3.903-11.259 9.188"></path><path fill="#fff" d="M40.5 22.856a2.499 2.499 0 0 0-2.507 2.491A2.499 2.499 0 0 0 40.5 27.84a2.499 2.499 0 0 0 2.506-2.491 2.5 2.5 0 0 0-2.506-2.492"></path><path fill="#C9DDDE" d="M12.149 9.014a13.156 13.156 0 0 1 3.727-3.622c-1.549-2.214-4.178-3.976-7.72-5.078a2.523 2.523 0 0 0-3.159 1.644 2.504 2.504 0 0 0 1.654 3.14c1.801.56 4.614 1.756 5.498 3.916"></path><path fill="#89BCBC" d="M22.535 5.491c-4.3 0-8.095 2.773-9.705 6.611.278.102.553.211.826.334a11.567 11.567 0 0 1 4.262 3.247c.26-2.515 2.554-4.342 4.62-4.342a2.931 2.931 0 0 0 2.94-2.923 2.936 2.936 0 0 0-2.943-2.927"></path><path fill="#009491" d="M9.902 20.743c.616.276 1.35.844 1.35 1.986h7.395c0-3.786-2.189-7.117-5.715-8.69-3.86-1.726-8.448-.99-11.688 1.87a3.656 3.656 0 0 0-.31 5.188 3.712 3.712 0 0 0 5.22.308c1.297-1.144 2.83-1.071 3.748-.662"></path></svg></a></div><ul class="grow flex items-center justify-end"><li class="flex items-center hidden lg:block"><a class="text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]" href="/en/discover">Discover</a></li><li class="flex items-center hidden lg:block"><a class="text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]" href="/en/learn">Learn</a></li><li class="flex items-center hidden lg:block"><a class="text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]" href="/en/contribute">Contribute</a></li><li class="flex items-stretch"><a class="flex items-center px-3 hover:text-[#00FFFA] [&amp;&gt;svg_*]:hover:fill-[#00FFFA]" href="https://github.com/TOSIT-FR/TDP" title="GitHub project repository"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 23 25" class="w-5 h-5"><path fill="#fff" d="M22.466 9.003a6.674 6.674 0 0 0-1.482-4.167A6.725 6.725 0 0 0 20.693.78a.89.89 0 0 0-.564-.517c-.361-.123-1.733-.357-4.525 1.453-1.2-.317-2.44-.467-3.682-.445a13.522 13.522 0 0 0-3.687.445C5.371-.133 3.88.165 3.581.254a.91.91 0 0 0-.563.527 6.724 6.724 0 0 0-.3 4.044 6.312 6.312 0 0 0-1.478 4.2c0 5.719 3.272 7.446 6.272 8.056-.153.378-.26.771-.315 1.174a.461.461 0 0 0 0 .129v1.583c-2.73.229-3.315-1.37-3.371-1.55a1.33 1.33 0 0 0-.049-.126 4.566 4.566 0 0 0-2.585-2.301.905.905 0 1 0-.574 1.717 2.73 2.73 0 0 1 1.469 1.256c.361 1.174 1.84 3.03 5.098 2.824v1.49h.002a.905.905 0 1 0 1.81 0v-4.825a2.58 2.58 0 0 1 .656-1.412.9.9 0 0 0-.517-1.551c-3.155-.368-6.07-1.406-6.07-6.5h-.002A4.446 4.446 0 0 1 4.39 5.668a.963.963 0 0 0 .206-.962 4.474 4.474 0 0 1-.057-2.74c1.109.25 2.153.738 3.056 1.431a.925.925 0 0 0 .796.11 11.22 11.22 0 0 1 3.547-.481c1.2-.03 2.396.131 3.544.48a.912.912 0 0 0 .795-.109 8.138 8.138 0 0 1 2.927-1.422 4.59 4.59 0 0 1-.066 2.768.893.893 0 0 0 .175.878 5.034 5.034 0 0 1 1.36 3.368c0 5.082-3.066 6.138-6.07 6.5a.897.897 0 0 0-.434 1.618c.32.242.692.925.692 2.069v4.096-.002a.905.905 0 1 0 1.81 0v-4.094a5.55 5.55 0 0 0-.387-2.105c2.43-.518 6.183-2.115 6.183-8.069"></path></svg></a></li><li class="block lg:hidden"><button type="button" class="flex items-center pl-3 hover:text-[#00FFFA] [&amp;&gt;svg_*]:hover:fill-[#00FFFA]" title="Toggle drawer"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg></button></li></ul></header><div class="w-full h-full lg:flex min-h-screen" style="background:radial-gradient(23.91% 23.92% at 14.33% 30.99%, rgba(19, 10, 39, 0.2) 0%, rgba(32, 10, 39, 0) 100%), radial-gradient(37.93% 37.93% at 85.72% 23.89%, rgba(4, 11, 18, 0.2) 0%, rgba(58, 95, 129, 0) 100%), radial-gradient(25.52% 25.52% at 24.55% 76.74%, rgba(95, 116, 97, 0.2) 0%, rgba(45, 67, 48, 0) 100%), radial-gradient(42.95% 42.95% at 21.12% 25.63%, rgba(97, 130, 120, 0.2) 0%, rgba(122, 159, 132, 0) 100%), radial-gradient(63.47% 63.46% at 31.32% 63.18%, rgba(64, 86, 142, 0.2) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(19.87% 43.71% at 73.92% 40.01%, rgba(122, 159, 132, 0.116) 0%, rgba(40, 52, 59, 0.056) 100%), #263134"><div class="hidden lg:block pt-[8rem] pb-5 w-[300px] min-w-[300px] xl:w-[400px] [&amp;&gt;*]:xl:w-[300px] [&amp;&gt;*]:mx-6 [&amp;&gt;*]:xl:ml-[80px] [&amp;&gt;*]:xl:mr-[20px] border-r border-r-white/40" style="background:rgba(0, 0, 0, 0.13)"><aside class="sticky top-20 text-sm"><h1 class="sr-only">Menu for <!-- -->Learn</h1><ul><li class="relative"><a class="block pb-2 text-white" href="/en/learn/getting-started">Getting Started</a><ul></ul></li><li class="relative"><a class="block pb-2 text-white/70 hover:text-[#00FFFA]" href="/en/learn/ports">Ports and protocols</a><ul></ul></li><li class="relative"><a class="block pb-2 text-white/70 hover:text-[#00FFFA]" href="/en/learn/requirements">Deployment Requirements</a><ul></ul></li></ul></aside></div><div class="grow relative"><main class="max-w-4xl px-6 m-auto py-40"><div class="prose dark:prose-invert max-w-none"><h1>Getting Started with TDP</h1><p>Use this repository to have a working directory where you run deploy commands with predefined virtual infrastructure with Vagrant or your own infrastructure.
You can customize the infrastructure and components of your cluster with 1 command per component.</p>
<h2 id="setup-script"><a class="anchor before" href="#setup-script"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Setup script</h2>
<p>To help users to setup the getting started, a setup script is located <a href="scripts/setup.sh">here</a>.</p>
<h3 id="features-and-requirements"><a class="anchor before" href="#features-and-requirements"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Features and requirements</h3>
<p>The <code>-e</code> option is used to enable features, for example <code>-e extras</code> enable TDP extras. Each feature have requirements, so if you enable a feature, you <strong>MUST</strong> install the feature requirements <strong>BEFORE</strong> launching the setup script.</p>
<p>Common requirements are:</p>
<ul>
<li>Python &gt;= 3.6 with virtual env package (i.e. <code>python3-venv</code>)</li>
<li>Unzip (to execute the setup scripts)</li>
<li><code>jq</code> required to execute helper script</li>
</ul>
<p>Python requirements like Ansible and Mitogen are listed in the file <code>requirements.txt</code>. The virtual environment is populated with these requirements. Therefore, you should not install them by yourself outside of the virtual environment. Only versions described in <code>requirements.txt</code> are supported.</p>
<p>Specific features requirements are:</p>
<ul>
<li><code>vagrant</code>: see requirements in <a href="https://github.com/TOSIT-IO/tdp-vagrant">https://github.com/TOSIT-IO/tdp-vagrant</a></li>
<li><code>ui</code>: see requirements in <a href="https://github.com/TOSIT-IO/tdp-ui">https://github.com/TOSIT-IO/tdp-ui</a>.</li>
</ul>
<h3 id="release"><a class="anchor before" href="#release"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Release</h3>
<p>The <code>-r</code> option is for selecting <code>stable</code> or <code>latest</code> version for all features. <code>stable</code> is recommended if you are new to TDP. We try our best to have a <code>stable</code> release working. <code>latest</code> is recommended when you want to contribute to TDP.</p>
<h3 id="clean-mode"><a class="anchor before" href="#clean-mode"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Clean mode</h3>
<p>By default, the setup script will not delete your custom configuration, for example, the <code>.env</code> file is generated by the setup script and this file is read by <code>tdp-lib</code> and <code>tdp-server</code>. You can change it to your preference and rerun the setup script without losing your modification.</p>
<p>If you want a clean configuration (i.e. remove your custom change), you can add the <code>-c</code> flag and the setup script will remove and create files, symlink, directory it creates.</p>
<h2 id="quick-start"><a class="anchor before" href="#quick-start"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Quick Start</h2>
<p>The below steps will deploy a TDP cluster with <strong>all features</strong> (see the line with <code>./scripts/setup.sh</code> and multiple <code>-e</code> option) so you <strong>MUST</strong> install all requirements. If you want specific features, modify the <code>./scripts/setup.sh</code> line.</p>
<p>If Vagrant is enabled, the Ansible <code>host.ini</code> file will be generated using the <code>hosts</code> variable in <code>tdp-vagrant/vagrant.yml</code>.</p>
<h3 id="prerequisites"><a class="anchor before" href="#prerequisites"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Prerequisites</h3>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Clone project from version control</span></span>
<span><span style="color: var(--shiki-token-function)">git</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">clone</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">https://github.com/TOSIT-IO/tdp-getting-started.git</span></span>
<span><span style="color: var(--shiki-token-comment)"># Move into project dir</span></span>
<span><span style="color: var(--shiki-token-function)">cd</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp-getting-started</span></span>
<span><span style="color: var(--shiki-token-comment)"># Setup local env with stable tdp-collection (mandatory), tdp-lib (mandatory), tdp-server, tdp-ui, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant</span></span>
<span><span style="color: var(--shiki-token-comment)"># Modify the line below for your needs</span></span>
<span><span style="color: var(--shiki-token-function)">./scripts/setup.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">server</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ui</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">extras</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">observability</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">prerequisites</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">vagrant</span></span>
<span><span style="color: var(--shiki-token-comment)"># Activate Python virtual env and set environment variables</span></span>
<span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">./venv/bin/activate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-punctuation)">&amp;&amp;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">.env</span></span>
<span><span style="color: var(--shiki-token-comment)"># To enable mitogen (optional)</span></span>
<span><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> ANSIBLE_STRATEGY_PLUGINS</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;$(</span><span style="color: var(--shiki-token-function)">python</span><span style="color: var(--shiki-token-string-expression)"> </span><span style="color: var(--shiki-token-string)">-c</span><span style="color: var(--shiki-token-string-expression)"> &#39;import os,ansible_mitogen; print(os.path.dirname(ansible_mitogen.__file__))&#39;)/plugins/strategy&quot;</span></span>
<span><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> ANSIBLE_STRATEGY</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;mitogen_linear&quot;</span></span>
<span><span style="color: var(--shiki-token-comment)"># Launch VMs</span></span>
<span><span style="color: var(--shiki-token-function)">vagrant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">up</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure TDP prerequisites</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>You have four ways to deploy a TDP cluster, using TDP UI, using TDP server API, using TDP lib CLI, or using Ansible playbook.</p>
<h3 id="deploy-with-tdp-ui"><a class="anchor before" href="#deploy-with-tdp-ui"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Deploy with TDP UI</h3>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Open a new terminal and activate python virtual env</span></span>
<span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">./venv/bin/activate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-punctuation)">&amp;&amp;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">.env</span></span>
<span><span style="color: var(--shiki-token-comment)"># Start tdp-server</span></span>
<span><span style="color: var(--shiki-token-function)">uvicorn</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_server.main:app</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--reload</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Open a new terminal and start tdp-ui</span></span>
<span><span style="color: var(--shiki-token-function)">npm</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--prefix</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">./tdp-ui</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">run</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">dev</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>In the UI, click on “Deployments”, “New deployment”, “Deploy from the DAG”, “Preview” (by default all services are deployed), “Deploy”.</p>
<p>You can see the deployment in the “Deployments” page. Wait deployment to complete.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Configure HDFS user home directories</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure Ranger policies</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="deploy-with-tdp-server-api"><a class="anchor before" href="#deploy-with-tdp-server-api"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Deploy with TDP server API</h3>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Open a new terminal and activate python virtual env</span></span>
<span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">./venv/bin/activate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-punctuation)">&amp;&amp;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">source</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">.env</span></span>
<span><span style="color: var(--shiki-token-comment)"># Start tdp-server</span></span>
<span><span style="color: var(--shiki-token-function)">uvicorn</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_server.main:app</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--reload</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Deploy TDP cluster core and extras services</span></span>
<span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-X</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">POST</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">http://localhost:8000/api/v1/deploy/dag</span></span>
<span><span style="color: var(--shiki-token-comment)"># You can see the log in the tdp-server output (the terminal where uvicorn is running)</span></span>
<span><span style="color: var(--shiki-token-comment)"># Wait deployment</span></span>
<span><span style="color: var(--shiki-token-keyword)">while</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">!</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-s</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">http://localhost:8000/api/v1/deploy/status</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">|</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">grep</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-q</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;no deployment on-going&quot;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-keyword)">do</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">sleep</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">10</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-keyword)">done</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure HDFS user home directories</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure Ranger policies</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="deploy-with-tdp-lib-cli"><a class="anchor before" href="#deploy-with-tdp-lib-cli"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Deploy with TDP lib CLI</h3>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Deploy TDP cluster core and extras services</span></span>
<span><span style="color: var(--shiki-token-function)">tdp</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">deploy</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure HDFS user home directories</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure Ranger policies</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="deploy-with-ansible-playbook"><a class="anchor before" href="#deploy-with-ansible-playbook"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Deploy with Ansible playbook</h3>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Deploy TDP cluster core services</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/all.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Deploy extras services</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Deploy observability services</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_observability/playbooks/meta/prometheus.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_observability/playbooks/meta/grafana.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure HDFS user home directories</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>
<span><span style="color: var(--shiki-token-comment)"># Configure Ranger policies</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h2 id="web-uis-links"><a class="anchor before" href="#web-uis-links"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Web UIs Links</h2>
<ul>
<li><a href="https://master-01.tdp:9871/dfshealth.html">HDFS NN Master 01</a></li>
<li><a href="https://master-02.tdp:9871/dfshealth.html">HDFS NN Master 02</a></li>
<li><a href="https://master-01.tdp:8090/cluster/apps">YARN RM Master 01</a></li>
<li><a href="https://master-02.tdp:8090/cluster/apps">YARN RM Master 02</a></li>
<li><a href="https://master-03.tdp:19890/jobhistory">MapReduce Job History Server</a></li>
<li><a href="https://master-01.tdp:16010/master-status">HBase Master 01</a></li>
<li><a href="https://master-02.tdp:16010/master-status">HBase Master 02</a></li>
<li><a href="https://master-03.tdp:18081/">Spark History Server</a></li>
<li><a href="https://master-03.tdp:18083/">Spark3 History Server</a></li>
<li><a href="https://master-03.tdp:6182/index.html">Ranger Admin</a></li>
<li><a href="https://master-03.tdp:8000/">JupyterHub</a></li>
</ul>
<p><strong>Note:</strong> All the WebUIs are Kerberized, you need to have a working Kerberos client on your host, configure the KDC in your <code>/etc/krb5.conf</code> file and obtain a valid ticket. You can also access the WebUIs through <a href="#knox">Knox</a>.</p>
<h2 id="customised-deployment"><a class="anchor before" href="#customised-deployment"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Customised Deployment</h2>
<p>Each of the below sections includes a high-level explanation of each possible step of TDP deployment.</p>
<h3 id="environment-setup"><a class="anchor before" href="#environment-setup"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Environment Setup</h3>
<p>Execute the <code>setup.sh</code> script to create the project directories needed and clone stable or latest Ansible TDP collections. It also downloads the TDP binaries from their GitHub releases (e.g., <a href="https://github.com/TOSIT-IO/hadoop/releases/tag/hadoop-project-dist-3.1.1-TDP-0.1.0-SNAPSHOT">Hadoop</a>).</p>
<p><strong>Note:</strong> The list of TDP binaries needed for deployment is maintained in the <code>scripts/tdp-release-uris.txt</code> file.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># Get stable tdp-collection</span></span>
<span><span style="color: var(--shiki-token-function)">./scripts/setup.sh</span></span>
<span><span style="color: var(--shiki-token-comment)"># Get latest tdp-collection, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant</span></span>
<span><span style="color: var(--shiki-token-function)">./scripts/setup.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">extras</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">observability</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">prerequisites</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-e</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">vagrant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-r</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">latest</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="configure-infrastructure"><a class="anchor before" href="#configure-infrastructure"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Configure infrastructure</h3>
<h4 id="use-tdp-vagrant">Use TDP Vagrant</h4>
<p>To use <code>tdp-vagrant</code> it is necessary to use the <code>-e vagrant</code> option when using <code>setup.sh</code>.</p>
<p>You can define <code>vagrant.yml</code> file to update the machine resources according to your machine’s RAM and core count (3Gb of RAM and 4 cores is ideal for the master nodes). The file <code>tdp-vagrant/vagrant.yml</code> contains default values.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">cp</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp-vagrant/vagrant.yml</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">.</span></span>
<span><span style="color: var(--shiki-token-comment)"># Now you can edit ./vagrant.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p><strong>Important:</strong> Do not modify <code>tdp-vagrant/vagrant.yml</code> to make it easier to update git submodule. The Vagrantfile will read <code>vagrant.yml</code> in the current directory and fallback to <code>tdp-vagrant/vagrant.yml</code>.</p>
<p>Start VMs with <code>vagrant</code> command.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">vagrant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">up</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>For TDP Vagrant usage see <a href="https://github.com/TOSIT-IO/tdp-vagrant">https://github.com/TOSIT-IO/tdp-vagrant</a>.</p>
<p><strong>Note:</strong> The <code>helper.sh</code> script can generate the list of hosts in the cluster. Add the generated lines to your <code>/etc/hosts</code> file to resolve the local nodes from your shell or browser.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">./scripts/helper.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-h</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="configure-prerequisites"><a class="anchor before" href="#configure-prerequisites"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Configure prerequisites</h3>
<p>To use <code>tdp-collection-prerequisites</code> it is necessary to use the <code>-e prerequisites</code> option when using <code>setup.sh</code>.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>This playbook deploys the following services: Chrony, a CA, a LDAP, a KDC, a PostgreSQL.</p>
<p>For TDP prerequisites usage see <a href="https://github.com/TOSIT-IO/tdp-collection-prerequisites">https://github.com/TOSIT-IO/tdp-collection-prerequisites</a>.</p>
<h3 id="core-services-deployment"><a class="anchor before" href="#core-services-deployment"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Core Services Deployment</h3>
<h4 id="tdp-lib-command">TDP lib command</h4>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">tdp</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">deploy</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>This command deploys all core and extra (if enable during setup) services.</p>
<p>For TDP lib usage see <a href="https://github.com/TOSIT-IO/tdp-lib">https://github.com/TOSIT-IO/tdp-lib</a>.</p>
<h4 id="main-playbook">Main playbook</h4>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/all.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>This playbook deploys the following services: Exporter, ZooKeeper, Hadoop core (HDFS, YARN, MapReduce), Ranger, Hive, Spark (2 and 3), HBase and Knox. <strong>It does not deploy extras services (see <a href="#extras-services-deployment">Extras Services Deployment</a> to deploy it).</strong></p>
<p>For TDP usage see <a href="https://github.com/TOSIT-IO/tdp-collection">https://github.com/TOSIT-IO/tdp-collection</a>.</p>
<h4 id="exporter">Exporter</h4>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/exporter.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h4 id="zookeeper">Zookeeper</h4>
<p>Deploys Apache ZooKeeper to the <code>[zk]</code> Ansible group and starts a 3 node Zookeeper Quorum.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/zookeeper.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p><em>Run <code>echo stat | nc localhost 2181</code> from any node in the <code>[zk]</code> group to see its ZooKeeper status.</em></p>
<h4 id="ranger">Ranger</h4>
<p>Deploys Ranger to the <code>[ranger_admin]</code> Ansible group.</p>
<p><em>Note that any changes to the <code>[ranger_admin]</code> hosts should also be reflected in the <code>[hadoop client group</code>].</em></p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/ranger.yml</p>
<p>The Ranger UI can be accessed at the address <code>https://&lt;master-02.tdp ip&gt;:6182/login.jsp</code> and the user <code>admin</code> and password <code>RangerAdmin123</code> (assuming default <code>ranger_admin_password</code> parameter). You may need to import the <code>root.pem</code> certificate authority into your browser or accept the SSL exception.</p>
<h4 id="launch-hdfs-yarn--mapreduce">Launch HDFS, YARN &amp; MapReduce</h4>
<p>Launches HDFS, YARN, and deploys MapReduce clients.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/hadoop.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/hdfs.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/meta/yarn.yml</span></span>
<span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p><code>tdp_user</code> can access and write to its HDFS user directory:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># From edge-01.tdp</span></span>
<span><span style="color: var(--shiki-token-function)">sudo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">su</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_user</span></span>
<span><span style="color: var(--shiki-token-function)">kinit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-ki</span></span>
<span><span style="color: var(--shiki-token-function)">echo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;This is the first line.&quot;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">|</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">hdfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">dfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-put</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/user/tdp_user/test-file.txt</span></span>
<span><span style="color: var(--shiki-token-function)">echo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;This is the second (appended) line.&quot;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">|</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">hdfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">dfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-appendToFile</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/user/tdp_user/test-file.txt</span></span>
<span><span style="color: var(--shiki-token-function)">hdfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">dfs</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-cat</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/user/tdp_user/test-file.txt</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h4 id="hive">Hive</h4>
<p>Deploys Hive to the <code>[hive_s2]</code> Ansible group. HDFS filesystem is created and the service is launched.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hive.yml</p>
<p>To interact with Hive, use the <code>beeline</code> CLI:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># From edge-01.tdp</span></span>
<span><span style="color: var(--shiki-token-function)">sudo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">su</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_user</span></span>
<span><span style="color: var(--shiki-token-function)">kinit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-ki</span></span>
<span><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> hive_truststore_password</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&#39;Truststore123!&#39;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Connect to a random HiveServer2 using ZooKeeper</span></span>
<span><span style="color: var(--shiki-token-function)">beeline</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;jdbc:hive2://master-01.tdp:2181,master-02.tdp:2181,master-03.tdp:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}&quot;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Or directly to a HiveServer2</span></span>
<span><span style="color: var(--shiki-token-function)">beeline</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&quot;jdbc:hive2://master-03.tdp:10001/;principal=hive/_HOST@REALM.TDP;transportMode=http;httpPath=cliservice;ssl=true;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}&quot;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># You can also use `beeline` alone which will default to the ZooKeeper mode</span></span>
<span><span style="color: var(--shiki-token-function)">beeline</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>From the Beeline shell:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-sql"><span><span style="color: var(--shiki-token-comment)">-- Create the database</span></span>
<span><span style="color: var(--shiki-token-keyword)">CREATE</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">DATABASE</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">IF</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">NOT</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">EXISTS</span><span style="color: var(--shiki-color-text)"> tdp_user </span><span style="color: var(--shiki-token-keyword)">LOCATION</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;/user/tdp_user/warehouse/tdp_user.db&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span><span style="color: var(--shiki-token-keyword)">USE</span><span style="color: var(--shiki-color-text)"> tdp_user;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">-- Examine the database</span></span>
<span><span style="color: var(--shiki-color-text)">SHOW DATABASES;</span></span>
<span><span style="color: var(--shiki-color-text)">SHOW TABLES;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">-- Modify the database</span></span>
<span><span style="color: var(--shiki-token-keyword)">CREATE</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">TABLE</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">IF</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">NOT</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">EXISTS</span><span style="color: var(--shiki-color-text)"> table1 (</span></span>
<span><span style="color: var(--shiki-color-text)">  col1 </span><span style="color: var(--shiki-token-keyword)">INT</span><span style="color: var(--shiki-color-text)"> COMMENT </span><span style="color: var(--shiki-token-string-expression)">&#39;Integer Column&#39;</span><span style="color: var(--shiki-color-text)">,</span></span>
<span><span style="color: var(--shiki-color-text)">  col2 STRING COMMENT </span><span style="color: var(--shiki-token-string-expression)">&#39;String Column&#39;</span></span>
<span><span style="color: var(--shiki-color-text)">);</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">-- Examine the database</span></span>
<span><span style="color: var(--shiki-color-text)">SHOW TABLES;</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">-- Modify the database table</span></span>
<span><span style="color: var(--shiki-token-keyword)">INSERT INTO</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">TABLE</span><span style="color: var(--shiki-color-text)"> table1 </span><span style="color: var(--shiki-token-keyword)">VALUES</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">, </span><span style="color: var(--shiki-token-string-expression)">&#39;one&#39;</span><span style="color: var(--shiki-color-text)">), (</span><span style="color: var(--shiki-token-constant)">2</span><span style="color: var(--shiki-color-text)">, </span><span style="color: var(--shiki-token-string-expression)">&#39;two&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)">-- Examine the database table</span></span>
<span><span style="color: var(--shiki-token-keyword)">SELECT</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">FROM</span><span style="color: var(--shiki-color-text)"> table1;</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h4 id="spark">Spark</h4>
<p>Deploys spark installations to the <code>[spark_hs]</code> and the <code>[spark_client]</code> Ansible group.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark.yml</p>
<p>To submit a Spark application:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># From edge-01.tdp</span></span>
<span><span style="color: var(--shiki-token-function)">sudo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">su</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_user</span></span>
<span><span style="color: var(--shiki-token-function)">kinit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-ki</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Run a spark application locally</span></span>
<span><span style="color: var(--shiki-token-function)">spark-submit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--class</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">org.apache.spark.examples.SparkPi</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--master</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">local[</span><span style="color: var(--shiki-token-constant)">4</span><span style="color: var(--shiki-token-string)">]</span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">100</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Or spark-submit a spark application to yarn</span></span>
<span><span style="color: var(--shiki-token-function)">spark-submit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--class</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">org.apache.spark.examples.SparkPi</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--master</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">yarn</span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">100</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p><strong>Note:</strong> Other Spark CLIs are available: <code>pyspark</code>, <code>spark-shell</code>, <code>spark-sql</code>.</p>
<h4 id="spark-3">Spark 3</h4>
<p>Deploys spark3 installations to the <code>[spark3_hs]</code> and the <code>[spark3_client]</code> Ansible group.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark3.yml</p>
<p>Spark 3 is installed alongside Spark 2 and can be used exactly the same way. The Spark 3 CLIs are: <code>spark3-submit</code>, <code>spark3-shell</code>, <code>spark3-sql</code>, <code>pyspark3</code>.</p>
<h4 id="hbase">HBase</h4>
<p>Deploys HBase masters, regionservers, rest and clients to the <code>[hbase_master]</code>, <code>[hbase_rs]</code>, <code>[hbase_rest]</code> and <code>[hbase_client]</code> Ansible groups respectively.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hbase.yml</p>
<p>As <code>tdp_user</code> on <code>edge-01</code>, obtain a Kerberos TGT with the command <code>kinit -ki</code> and access the HBase shell with the command <code>hbase shell</code>.</p>
<p>Commands such as the below can be used to test your HBase deployment:</p>
<p>list
list_namespace
create ‘tdp_user_table’, ‘cf’
put ‘tdp_user_table’, ‘row1’, ‘cf:testColumn’, ‘testValue’
disable ‘tdp_user_table’
drop ‘tdp_user_table’</p>
<h4 id="knox">Knox</h4>
<p>Deploys Knox Gateway on the <code>[knox]</code> Ansible group:</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/knox.yml</p>
<p>You can then access the WebUIs of the TDP services through Knox:</p>
<ul>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/hdfs">HDFS NN</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/yarn">YARN RM</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/jobhistory">MapReduce Job History Server</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/hbase/webui/master/master-status?host=master-01.tdp&amp;port=16010">HBase Master</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/sparkhistory">Spark History Server</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/spark3history">Spark3 History Server</a></li>
<li><a href="https://edge-01.tdp:8443/gateway/tdpldap/ranger">Ranger Admin</a></li>
</ul>
<p><em>Note: You can login to Knox using the <code>tdp_user</code> that is created in the next step.</em></p>
<h3 id="extras-services-deployment"><a class="anchor before" href="#extras-services-deployment"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Extras Services Deployment</h3>
<h4 id="livy">Livy</h4>
<p>Deploys Livy Server on the <code>[livy_server]</code> group hosts:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>The Livy Server can be accessed at <a href="https://edge-01.tdp:8998">https://edge-01.tdp:8998</a> After deployment, one can create a Spark session and interact with it through cURL:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-comment)"># From edge-01.tdp</span></span>
<span><span style="color: var(--shiki-token-function)">sudo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">su</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_user</span></span>
<span><span style="color: var(--shiki-token-function)">kinit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-ki</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Create a session</span></span>
<span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-k</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--negotiate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-X</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">POST</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">https://edge-01.tdp:8998/sessions</span><span style="color: var(--shiki-color-text)"> \</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">-d</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;{&quot;kind&quot;: &quot;pyspark&quot;}&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-H</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Content-Type: application/json&#39;</span></span>
<span><span style="color: var(--shiki-token-comment)"># Get the session status (wait until it is &quot;idle&quot;)</span></span>
<span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-k</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--negotiate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-X</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">GET</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">https://edge-01.tdp:8998/sessions</span></span>
<span><span style="color: var(--shiki-token-comment)"># Submit a snippet of code to the session</span></span>
<span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-k</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--negotiate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-X</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">POST</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">https://edge-01.tdp:8998/sessions/0/statements</span><span style="color: var(--shiki-color-text)"> \</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">-d</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;{&quot;code&quot;: &quot;1 + 1&quot;}&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-H</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Content-Type: application/json&#39;</span></span>
<span><span style="color: var(--shiki-token-comment)"># Get the statement result</span></span>
<span><span style="color: var(--shiki-token-function)">curl</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-k</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-u</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--negotiate</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-X</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">GET</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">https://edge-01.tdp:8998/sessions/0/statements/0</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h4 id="livy-for-spark-3">Livy for Spark 3</h4>
<p>Another Livy server is deployed for Spark 3 on the <code>[livy-spark3_server]</code> group hosts:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>The default port is different than the regular Livy server: <code>8999</code> instead of <code>8998</code>.</p>
<h4 id="zookeeper-kafka">Zookeeper Kafka</h4>
<p>Deploys Apache ZooKeeper to the <code>[zk_kafka]</code> Ansible group and starts a 3 node Zookeeper Quorum dedicated to Kafka.</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h4 id="kafka">Kafka</h4>
<p>Deploys a Kafka cluster on the <code>[kafka_broker]</code> group hosts:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-bash"><span><span style="color: var(--shiki-token-function)">ansible-playbook</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>The Kafka CLIs are available on the edge node for all users and client properties files are in <code>/etc/kafka/conf/*.properties</code>. After deployment, one can interact with Kafka from <code>edge-01.tdp</code>:</p>
<div class="not-prose my-6 overflow-hidden rounded-2xl bg-zinc-900 shadow-md dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-sm/8 text-white"><code class="language-sh"><span><span style="color: var(--shiki-token-comment)"># From edge-01.tdp</span></span>
<span><span style="color: var(--shiki-token-function)">sudo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">su</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">tdp_user</span></span>
<span><span style="color: var(--shiki-token-function)">kinit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">-ki</span></span>
<span></span>
<span><span style="color: var(--shiki-token-comment)"># Create a topic</span></span>
<span><span style="color: var(--shiki-token-function)">kafka-topics.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--create</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--topic</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">test-topic</span><span style="color: var(--shiki-color-text)"> \</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">--command-config</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/etc/kafka/conf/client.properties</span></span>
<span><span style="color: var(--shiki-token-comment)"># Write messages to the topic</span></span>
<span><span style="color: var(--shiki-token-function)">kafka-console-producer.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--topic</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">test-topic</span><span style="color: var(--shiki-color-text)"> \</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">--producer.config</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/etc/kafka/conf/producer.properties</span></span>
<span><span style="color: var(--shiki-token-keyword)">&gt;</span><span style="color: var(--shiki-color-text)">Hello there</span></span>
<span><span style="color: var(--shiki-token-keyword)">&gt;</span><span style="color: var(--shiki-color-text)">I am writting messages to a Kafka topic</span></span>
<span><span style="color: var(--shiki-token-keyword)">&gt;</span><span style="color: var(--shiki-color-text)">How cool is that</span><span style="color: var(--shiki-token-keyword)">?</span></span>
<span><span style="color: var(--shiki-token-keyword)">&gt;</span><span style="color: var(--shiki-color-text)">^C </span><span style="color: var(--shiki-token-comment)"># CTRL+C to leave the console producer</span></span>
<span><span style="color: var(--shiki-token-comment)"># Read all messages from the topic</span></span>
<span><span style="color: var(--shiki-token-function)">kafka-console-consumer.sh</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--topic</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">test-topic</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">--from-beginning</span><span style="color: var(--shiki-color-text)"> \</span></span>
<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string)">--consumer.config</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string)">/etc/kafka/conf/consumer.properties</span></span>
<span></span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3 id="utils"><a class="anchor before" href="#utils"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 16 16"><path d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"></path></svg></a>Utils</h3>
<h4 id="configure-hdfs-user-home-directories">Configure HDFS user home directories</h4>
<p>Create, update, remove HDFS user home directories.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</p>
<p><em>Additional users can be added to the Ansible variable <code>hdfs_user_homes</code> if required.</em></p>
<p>When adding users following the Ranger Usersync deployment, you will need to add or update Ranger policies including these new users. You must wait for Ranger Usersync to poll users from LDAP or you can restart the Ranger Usersync using the following playbook:</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/ranger_usersync_restart.yml</p>
<h4 id="configure-ranger-policies">Configure Ranger policies</h4>
<p>Create, update, remove Ranger policies.</p>
<p>ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</p>
<p><em>Additional policies can be added to the Ansible variable <code>ranger_policies</code> if required.</em></p></div></main></div></div><div class="border-t-2 border-slate-500" style="background:linear-gradient(154.09deg, rgba(0, 0, 0, 0.2) 16.35%, rgba(0, 0, 0, 0) 39.32%), radial-gradient(14.08% 17.22% at 86.26% 77.02%, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(31.27% 31.27% at 81.13% 24.31%, rgba(86, 80, 28, 0.2) 0%, rgba(11, 36, 32, 0) 100%), radial-gradient(26.56% 26.56% at 19.78% 70.31%, rgba(54, 22, 28, 0.2) 0%, rgba(10, 14, 27, 0) 100%), linear-gradient(180deg, #2F3A44 0%, #202B2B 100%)"><footer class=""><ul class="max-w-4xl px-6 m-auto grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-10 sm:gap-0 py-10 [&amp;_h2]:mb-3 [&amp;_h2]:italic [&amp;_h2]:font-extralight [&amp;_h2]:text-white/50"><li><h2>First steps</h2><ul><li><a class="text-white/70 hover:text-[#00FFFA]" href="/en/discover">Discover</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="/en/learn/getting-started">Getting started</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="#">Download</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="/en/discover/sitemap">Sitemap</a></li></ul></li><li><h2>Advanced usage</h2><ul><li><a class="text-white/70 hover:text-[#00FFFA]" href="#">Configuration</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="#">Using the CLI</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="#">Rest API</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="#">Advanced usage</a></li></ul></li><li><h2>Developper community</h2><ul class="space-y-1"><li><a class="text-white/70 hover:text-[#00FFFA]" href="https://github.com/TOSIT-IO/TDP" target="_blank">GitHub repository</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="https://github.com/TOSIT-IO/TDP/issues" target="_blank">Issues</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="https://github.com/orgs/TOSIT-IO/discussions" target="_blank">Discussions</a></li><li><a class="text-white/70 hover:text-[#00FFFA]" href="https://github.com/TOSIT-IO/TDP/blob/main/LICENSE" target="_blank">License</a></li></ul></li></ul></footer></div><script src="/_next/static/chunks/webpack-ec92c39bb73f7742.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/122c360d7fe6d395-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/14df86764872c516.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:I[3728,[],\"\"]\n7:I[9928,[],\"\"]\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/14df86764872c516.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"JlwThupMQgpPx6-0WXz4O\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/en/learn/getting-started\",\"initialTree\":[\"\",{\"children\":[[\"lang\",\"en\",\"d\"],{\"children\":[\"(pages)\",{\"children\":[[\"slug\",\"learn/getting-started\",\"c\"],{\"children\":[\"__PAGE__?{\\\"lang\\\":\\\"en\\\",\\\"slug\\\":[\\\"learn\\\",\\\"getting-started\\\"]}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[false,\"$L6\"],\"globalErrorComponent\":\"$7\",\"children\":[null,\"$L8\",null]}]]\n"])</script><script>self.__next_f.push([1,"9:I[6954,[],\"\"]\na:I[7264,[],\"\"]\n"])</script><script>self.__next_f.push([1,"8:[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"relative h-full text-slate-200 dark bg-[#263134] __variable_e66fe9 font-sans __variable_33541e\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"childProp\":{\"current\":[null,\"$Lb\",null],\"segment\":[\"lang\",\"en\",\"d\"]},\"styles\":[]}]}]}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"lang\",\"en\",\"d\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"lang\",\"en\",\"d\"],\"children\",\"(pages)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[null,\"$Lc\",null],\"segment\":[\"slug\",\"learn/getting-started\",\"c\"]},\"styles\":[]}],\"segment\":\"(pages)\"},\"styles\":[]}],\"$Ld\"]\n"])</script><script>self.__next_f.push([1,"e:I[8326,[\"326\",\"static/chunks/326-bbc95b41f8249005.js\",\"194\",\"static/chunks/194-921bca424ee89dc7.js\",\"408\",\"static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/layout-cc31eff5e3abd505.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"d:[\"$\",\"div\",null,{\"className\":\"border-t-2 border-slate-500\",\"style\":{\"background\":\"linear-gradient(154.09deg, rgba(0, 0, 0, 0.2) 16.35%, rgba(0, 0, 0, 0) 39.32%), radial-gradient(14.08% 17.22% at 86.26% 77.02%, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(31.27% 31.27% at 81.13% 24.31%, rgba(86, 80, 28, 0.2) 0%, rgba(11, 36, 32, 0) 100%), radial-gradient(26.56% 26.56% at 19.78% 70.31%, rgba(54, 22, 28, 0.2) 0%, rgba(10, 14, 27, 0) 100%), linear-gradient(180deg, #2F3A44 0%, #202B2B 100%)\"},\"children\":[\"$\",\"footer\",null,{\"className\":\"\",\"children\":[\"$\",\"ul\",null,{\"className\":\"max-w-4xl px-6 m-auto grid grid-cols-1 xs:grid-cols-2 sm:grid-cols-3 gap-10 sm:gap-0 py-10 [\u0026_h2]:mb-3 [\u0026_h2]:italic [\u0026_h2]:font-extralight [\u0026_h2]:text-white/50\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"First steps\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover\",\"children\":\"Discover\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn/getting-started\",\"children\":\"Getting started\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"#\",\"children\":\"Download\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover/sitemap\",\"children\":\"Sitemap\"}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"Advanced usage\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"#\",\"children\":\"Configuration\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"#\",\"children\":\"Using the CLI\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"#\",\"children\":\"Rest API\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"#\",\"children\":\"Advanced usage\"}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"Developper community\"}],[\"$\",\"ul\",null,{\"className\":\"space-y-1\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"https://github.com/TOSIT-IO/TDP\",\"target\":\"_blank\",\"children\":\"GitHub repository\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"https://github.com/TOSIT-IO/TDP/issues\",\"target\":\"_blank\",\"children\":\"Issues\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"https://github.com/orgs/TOSIT-IO/discussions\",\"target\":\"_blank\",\"children\":\"Discussions\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"className\":\"text-white/70 hover:text-[#00FFFA]\",\"href\":\"https://github.com/TOSIT-IO/TDP/blob/main/LICENSE\",\"target\":\"_blank\",\"children\":\"License\"}]}]]}]]}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"6:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Getting Started with TDP | TDP\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Deploy a local development cluster with Vagrant and virtual machines.\\n\"}],[\"$\",\"link\",\"3\",{\"rel\":\"author\",\"href\":\"https://adaltas.com\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"David Worms\"}],[\"$\",\"meta\",\"5\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"6\",{\"name\":\"category\",\"content\":\"technology\"}],[\"$\",\"link\",\"7\",{\"rel\":\"icon\",\"href\":\"/favicon.svg\"}],[\"$\",\"meta\",\"8\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"10:I[8026,[\"326\",\"static/chunks/326-bbc95b41f8249005.js\",\"194\",\"static/chunks/194-921bca424ee89dc7.js\",\"408\",\"static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/layout-cc31eff5e3abd505.js\"],\"\"]\n11:I[8326,[\"326\",\"static/chunks/326-bbc95b41f8249005.js\",\"194\",\"static/chunks/194-921bca424ee89dc7.js\",\"408\",\"static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/layout-cc31eff5e3abd505.js\"],\"*\"]\nf:T4a6,"])</script><script>self.__next_f.push([1,"M22.466 9.003a6.674 6.674 0 0 0-1.482-4.167A6.725 6.725 0 0 0 20.693.78a.89.89 0 0 0-.564-.517c-.361-.123-1.733-.357-4.525 1.453-1.2-.317-2.44-.467-3.682-.445a13.522 13.522 0 0 0-3.687.445C5.371-.133 3.88.165 3.581.254a.91.91 0 0 0-.563.527 6.724 6.724 0 0 0-.3 4.044 6.312 6.312 0 0 0-1.478 4.2c0 5.719 3.272 7.446 6.272 8.056-.153.378-.26.771-.315 1.174a.461.461 0 0 0 0 .129v1.583c-2.73.229-3.315-1.37-3.371-1.55a1.33 1.33 0 0 0-.049-.126 4.566 4.566 0 0 0-2.585-2.301.905.905 0 1 0-.574 1.717 2.73 2.73 0 0 1 1.469 1.256c.361 1.174 1.84 3.03 5.098 2.824v1.49h.002a.905.905 0 1 0 1.81 0v-4.825a2.58 2.58 0 0 1 .656-1.412.9.9 0 0 0-.517-1.551c-3.155-.368-6.07-1.406-6.07-6.5h-.002A4.446 4.446 0 0 1 4.39 5.668a.963.963 0 0 0 .206-.962 4.474 4.474 0 0 1-.057-2.74c1.109.25 2.153.738 3.056 1.431a.925.925 0 0 0 .796.11 11.22 11.22 0 0 1 3.547-.481c1.2-.03 2.396.131 3.544.48a.912.912 0 0 0 .795-.109 8.138 8.138 0 0 1 2.927-1.422 4.59 4.59 0 0 1-.066 2.768.893.893 0 0 0 .175.878 5.034 5.034 0 0 1 1.36 3.368c0 5.082-3.066 6.138-6.07 6.5a.897.897 0 0 0-.434 1.618c.32.242.692.925.692 2.069v4.096-.002a.905.905 0 1 0 1.81 0v-4.094a5.55 5.55 0 0 0-.387-2.105c2.43-.518 6.183-2.115 6.183-8.069"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"header\",null,{\"className\":\"fixed top-0 w-full z-10 h-[60px] flex border-b border-slate-500 px-6 xl:pl-0\",\"style\":{\"background\":\"radial-gradient(50% 50% at 50% 50%, rgba(14, 11, 22, 0.12) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(17.86% 94.3% at 87.98% 36.67%, rgba(27, 83, 83, 0.18) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(50.96% 97.73% at 18.2% 68.08%, rgba(28, 74, 74, 0.26) 0%, rgba(0, 0, 0, 0) 100%), rgba(44, 48, 49, 0.90)\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"h-full w-auto xl:w-[400px] py-[12px] flex xl:bg-black/20 xl:border-r xl:border-r-white/10\",\"children\":[\"$\",\"$Le\",null,{\"className\":\"relative w-full\",\"href\":\"/\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 113 44\",\"className\":\"h-full m-auto\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"#fff\",\"d\":\"M100.189 11.847h-11.72v6.246a16.088 16.088 0 0 0-12.735-6.246H40.439v7.35h7.932v24.604h7.395V19.198h7.495v8.823h7.395v-8.823h5.078c4.784 0 8.677 3.87 8.677 8.625s-3.893 8.625-8.677 8.625h-5.038v7.35h5.038c5.18 0 9.794-2.451 12.735-6.245v6.246h7.395v-8.474h4.325c6.512 0 11.812-5.266 11.812-11.742 0-6.47-5.3-11.736-11.812-11.736m0 16.13h-4.325v-8.78h4.325c2.435 0 4.415 1.97 4.415 4.389 0 2.42-1.982 4.39-4.415 4.39M25.898 21.314c-2.131 4.5-3.172 5.732-4.831 5.732-1.52 0-2.656-.909-2.656-1.722h-7.395c0 5.003 4.509 9.076 10.053 9.076 6.808 0 9.535-5.754 11.524-9.954 1.206-2.546 2.603-4.042 4.564-4.745v-7.575c-5.051.88-8.755 3.903-11.259 9.188\"}],[\"$\",\"path\",null,{\"fill\":\"#fff\",\"d\":\"M40.5 22.856a2.499 2.499 0 0 0-2.507 2.491A2.499 2.499 0 0 0 40.5 27.84a2.499 2.499 0 0 0 2.506-2.491 2.5 2.5 0 0 0-2.506-2.492\"}],[\"$\",\"path\",null,{\"fill\":\"#C9DDDE\",\"d\":\"M12.149 9.014a13.156 13.156 0 0 1 3.727-3.622c-1.549-2.214-4.178-3.976-7.72-5.078a2.523 2.523 0 0 0-3.159 1.644 2.504 2.504 0 0 0 1.654 3.14c1.801.56 4.614 1.756 5.498 3.916\"}],[\"$\",\"path\",null,{\"fill\":\"#89BCBC\",\"d\":\"M22.535 5.491c-4.3 0-8.095 2.773-9.705 6.611.278.102.553.211.826.334a11.567 11.567 0 0 1 4.262 3.247c.26-2.515 2.554-4.342 4.62-4.342a2.931 2.931 0 0 0 2.94-2.923 2.936 2.936 0 0 0-2.943-2.927\"}],[\"$\",\"path\",null,{\"fill\":\"#009491\",\"d\":\"M9.902 20.743c.616.276 1.35.844 1.35 1.986h7.395c0-3.786-2.189-7.117-5.715-8.69-3.86-1.726-8.448-.99-11.688 1.87a3.656 3.656 0 0 0-.31 5.188 3.712 3.712 0 0 0 5.22.308c1.297-1.144 2.83-1.071 3.748-.662\"}]]}]}]}],[\"$\",\"ul\",null,{\"className\":\"grow flex items-center justify-end\",\"children\":[[[\"$\",\"li\",\"discover\",{\"className\":\"flex items-center hidden lg:block\",\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover\",\"children\":\"Discover\"}]}],[\"$\",\"li\",\"learn\",{\"className\":\"flex items-center hidden lg:block\",\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn\",\"children\":\"Learn\"}]}],[\"$\",\"li\",\"contribute\",{\"className\":\"flex items-center hidden lg:block\",\"children\":[\"$\",\"$Le\",null,{\"className\":\"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute\",\"children\":\"Contribute\"}]}]],[\"$\",\"li\",null,{\"className\":\"flex items-stretch\",\"children\":[\"$\",\"a\",null,{\"className\":\"flex items-center px-3 hover:text-[#00FFFA] [\u0026\u003esvg_*]:hover:fill-[#00FFFA]\",\"href\":\"https://github.com/TOSIT-FR/TDP\",\"title\":\"GitHub project repository\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 23 25\",\"className\":\"w-5 h-5\",\"children\":[\"$\",\"path\",null,{\"fill\":\"#fff\",\"d\":\"$f\"}]}]}]}],false,[\"$\",\"li\",null,{\"className\":\"block lg:hidden\",\"children\":[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"my-5 h-[3rem] w-auto xl:w-[400px] flex\",\"children\":[\"$\",\"$L11\",null,{\"className\":\"relative w-full\",\"href\":\"/\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 113 44\",\"className\":\"h-full m-auto\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"#fff\",\"d\":\"M100.189 11.847h-11.72v6.246a16.088 16.088 0 0 0-12.735-6.246H40.439v7.35h7.932v24.604h7.395V19.198h7.495v8.823h7.395v-8.823h5.078c4.784 0 8.677 3.87 8.677 8.625s-3.893 8.625-8.677 8.625h-5.038v7.35h5.038c5.18 0 9.794-2.451 12.735-6.245v6.246h7.395v-8.474h4.325c6.512 0 11.812-5.266 11.812-11.742 0-6.47-5.3-11.736-11.812-11.736m0 16.13h-4.325v-8.78h4.325c2.435 0 4.415 1.97 4.415 4.389 0 2.42-1.982 4.39-4.415 4.39M25.898 21.314c-2.131 4.5-3.172 5.732-4.831 5.732-1.52 0-2.656-.909-2.656-1.722h-7.395c0 5.003 4.509 9.076 10.053 9.076 6.808 0 9.535-5.754 11.524-9.954 1.206-2.546 2.603-4.042 4.564-4.745v-7.575c-5.051.88-8.755 3.903-11.259 9.188\"}],[\"$\",\"path\",null,{\"fill\":\"#fff\",\"d\":\"M40.5 22.856a2.499 2.499 0 0 0-2.507 2.491A2.499 2.499 0 0 0 40.5 27.84a2.499 2.499 0 0 0 2.506-2.491 2.5 2.5 0 0 0-2.506-2.492\"}],[\"$\",\"path\",null,{\"fill\":\"#C9DDDE\",\"d\":\"M12.149 9.014a13.156 13.156 0 0 1 3.727-3.622c-1.549-2.214-4.178-3.976-7.72-5.078a2.523 2.523 0 0 0-3.159 1.644 2.504 2.504 0 0 0 1.654 3.14c1.801.56 4.614 1.756 5.498 3.916\"}],[\"$\",\"path\",null,{\"fill\":\"#89BCBC\",\"d\":\"M22.535 5.491c-4.3 0-8.095 2.773-9.705 6.611.278.102.553.211.826.334a11.567 11.567 0 0 1 4.262 3.247c.26-2.515 2.554-4.342 4.62-4.342a2.931 2.931 0 0 0 2.94-2.923 2.936 2.936 0 0 0-2.943-2.927\"}],[\"$\",\"path\",null,{\"fill\":\"#009491\",\"d\":\"M9.902 20.743c.616.276 1.35.844 1.35 1.986h7.395c0-3.786-2.189-7.117-5.715-8.69-3.86-1.726-8.448-.99-11.688 1.87a3.656 3.656 0 0 0-.31 5.188 3.712 3.712 0 0 0 5.22.308c1.297-1.144 2.83-1.071 3.748-.662\"}]]}]}]}],[\"$\",\"ul\",null,{\"className\":\"pb-10 [\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover\",\"children\":\"Discover\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover/usages\",\"children\":\"Usages\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover/architecture\",\"children\":\"Architecture\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover/security\",\"children\":\"Security\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/discover/roadmap\",\"children\":\"Roadmap\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}]]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn\",\"children\":\"Learn\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white\",\"href\":\"/en/learn/getting-started\",\"children\":\"Getting Started\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn/ports\",\"children\":\"Ports and protocols\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn/requirements\",\"children\":\"Deployment Requirements\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}]]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute\",\"children\":\"Contribute\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"italic font-extralight text-white/50 py-4\",\"children\":\"Project\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute/project/license\",\"children\":\"License\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute/project/contributing\",\"children\":\"Contributing to TDP\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute/project/onboarding\",\"children\":\"Onboarding\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}]]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"italic font-extralight text-white/50 py-4\",\"children\":\"Build\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute/build/build-release\",\"children\":\"Build and release\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"$L11\",null,{\"className\":\"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/contribute/build/versioning\",\"children\":\"Software versioning\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}]]}]]}],[\"$\",\"li\",null,{\"className\":\"my-2\",\"children\":[[\"$\",\"span\",null,{\"className\":\"italic font-extralight text-white/50 py-4\",\"children\":\"Developers\"}],[\"$\",\"ul\",null,{\"className\":\"[\u0026_ul_li]:pl-3\",\"children\":[]}]]}]]}]]}]]}]]}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"w-full h-full lg:flex min-h-screen\",\"style\":{\"background\":\"radial-gradient(23.91% 23.92% at 14.33% 30.99%, rgba(19, 10, 39, 0.2) 0%, rgba(32, 10, 39, 0) 100%), radial-gradient(37.93% 37.93% at 85.72% 23.89%, rgba(4, 11, 18, 0.2) 0%, rgba(58, 95, 129, 0) 100%), radial-gradient(25.52% 25.52% at 24.55% 76.74%, rgba(95, 116, 97, 0.2) 0%, rgba(45, 67, 48, 0) 100%), radial-gradient(42.95% 42.95% at 21.12% 25.63%, rgba(97, 130, 120, 0.2) 0%, rgba(122, 159, 132, 0) 100%), radial-gradient(63.47% 63.46% at 31.32% 63.18%, rgba(64, 86, 142, 0.2) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(19.87% 43.71% at 73.92% 40.01%, rgba(122, 159, 132, 0.116) 0%, rgba(40, 52, 59, 0.056) 100%), #263134\"},\"children\":[[\"$\",\"div\",null,{\"className\":\"hidden lg:block pt-[8rem] pb-5 w-[300px] min-w-[300px] xl:w-[400px] [\u0026\u003e*]:xl:w-[300px] [\u0026\u003e*]:mx-6 [\u0026\u003e*]:xl:ml-[80px] [\u0026\u003e*]:xl:mr-[20px] border-r border-r-white/40\",\"style\":{\"background\":\"rgba(0, 0, 0, 0.13)\"},\"children\":[\"$\",\"aside\",null,{\"className\":\"sticky top-20 text-sm\",\"style\":\"$undefined\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"sr-only\",\"children\":[\"Menu for \",\"Learn\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"$Le\",null,{\"className\":\"block pb-2 text-white\",\"href\":\"/en/learn/getting-started\",\"children\":\"Getting Started\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"$Le\",null,{\"className\":\"block pb-2 text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn/ports\",\"children\":\"Ports and protocols\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}],[\"$\",\"li\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"$Le\",null,{\"className\":\"block pb-2 text-white/70 hover:text-[#00FFFA]\",\"href\":\"/en/learn/requirements\",\"children\":\"Deployment Requirements\"}],[\"$\",\"ul\",null,{\"children\":[]}]]}]]}]]}]}],[\"$\",\"div\",null,{\"className\":\"grow relative\",\"children\":[\"$\",\"main\",null,{\"className\":\"max-w-4xl px-6 m-auto py-40\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",[\"lang\",\"en\",\"d\"],\"children\",\"(pages)\",\"children\",[\"slug\",\"learn/getting-started\",\"c\"],\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$L12\",\"$L13\",null],\"segment\":\"__PAGE__?{\\\"lang\\\":\\\"en\\\",\\\"slug\\\":[\\\"learn\\\",\\\"getting-started\\\"]}\"},\"styles\":[]}]}]}]]}]]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"prose dark:prose-invert max-w-none\",\"children\":[[\"$\",\"h1\",null,{\"children\":\"Getting Started with TDP\"}],\"$L14\"]}]\n12:null\n"])</script><script>self.__next_f.push([1,"15:I[2626,[\"713\",\"static/chunks/713-ee755527c43ec9d0.js\",\"571\",\"static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/page-f05a753553fcc324.js\"],\"Code\"]\n16:I[2626,[\"713\",\"static/chunks/713-ee755527c43ec9d0.js\",\"571\",\"static/chunks/app/%5Blang%5D/(pages)/%5B...slug%5D/page-f05a753553fcc324.js\"],\"Pre\"]\n17:T1303,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Clone project from version control\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003egit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eclone\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttps://github.com/TOSIT-IO/tdp-getting-started.git\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Move into project dir\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecd\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp-getting-started\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Setup local env with stable tdp-collection (mandatory), tdp-lib (mandatory), tdp-server, tdp-ui, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Modify the line below for your needs\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e./scripts/setup.sh\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eserver\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eui\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eextras\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eobservability\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eprerequisites\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003evagrant\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Activate Python virtual env and set environment variables\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e./venv/bin/activate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e.env\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# To enable mitogen (optional)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e ANSIBLE_STRATEGY_PLUGINS\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;$(\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003epython\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-c\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e \u0026#39;import os,ansible_mitogen; print(os.path.dirname(ansible_mitogen.__file__))\u0026#39;)/plugins/strategy\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e ANSIBLE_STRATEGY\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;mitogen_linear\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Launch VMs\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003evagrant\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eup\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure TDP prerequisites\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"18:T442,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Open a new terminal and activate python virtual env\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e./venv/bin/activate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e.env\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Start tdp-server\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003euvicorn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_server.main:app\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--reload\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"19:T442,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Open a new terminal and activate python virtual env\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e./venv/bin/activate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-punctuation)\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esource\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e.env\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Start tdp-server\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003euvicorn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_server.main:app\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--reload\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1a:Tbc5,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Deploy TDP cluster core and extras services\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-X\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ePOST\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttp://localhost:8000/api/v1/deploy/dag\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# You can see the log in the tdp-server output (the terminal where uvicorn is running)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Wait deployment\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003ewhile\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e!\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-s\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttp://localhost:8000/api/v1/deploy/status\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e|\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003egrep\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-q\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;no deployment on-going\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e; \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003edo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esleep\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e10\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e; \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003edone\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure HDFS user home directories\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure Ranger policies\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1b:T408,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Deploy TDP cluster core and extras services\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003etdp\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003edeploy\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure HDFS user home directories\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure Ranger policies\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1c:Tb0d,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Deploy TDP cluster core services\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/meta/all.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Deploy extras services\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Deploy observability services\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_observability/playbooks/meta/prometheus.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp_observability/playbooks/meta/grafana.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure HDFS user home directories\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Configure Ranger policies\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1d:T637,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Get stable tdp-collection\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e./scripts/setup.sh\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Get latest tdp-collection, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003e./scripts/setup.sh\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eextras\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eobservability\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eprerequisites\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-e\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003evagrant\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-r\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003elatest\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1e:Tb98,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# From edge-01.tdp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esudo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003esu\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_user\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekinit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-ki\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eecho\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;This is the first line.\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e|\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehdfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003edfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-put\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/user/tdp_user/test-file.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eecho\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;This is the second (appended) line.\u0026quot;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e|\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehdfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003edfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-appendToFile\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/user/tdp_user/test-file.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ehdfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003edfs\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-cat\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/user/tdp_user/test-file.txt\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"1f:T9de,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# From edge-01.tdp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esudo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003esu\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_user\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekinit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-ki\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eexport\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e hive_truststore_password\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e=\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Truststore123!\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Connect to a random HiveServer2 using ZooKeeper\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ebeeline\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;jdbc:hive2://master-01.tdp:2181,master-02.tdp:2181,master-03.tdp:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Or directly to a HiveServer2\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ebeeline\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026quot;jdbc:hive2://master-03.tdp:10001/;principal=hive/_HOST@REALM.TDP;transportMode=http;httpPath=cliservice;ssl=true;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\u0026quot;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# You can also use `beeline` alone which will default to the ZooKeeper mode\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ebeeline\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"20:T10a3,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Create the database\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eCREATE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eDATABASE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eIF\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eNOT\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eEXISTS\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e tdp_user \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eLOCATION\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;/user/tdp_user/warehouse/tdp_user.db\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eUSE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e tdp_user;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Examine the database\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eSHOW DATABASES;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eSHOW TABLES;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Modify the database\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eCREATE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eTABLE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003eIF\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eNOT\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eEXISTS\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e table1 (\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  col1 \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eINT\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e COMMENT \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Integer Column\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  col2 STRING COMMENT \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;String Column\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Examine the database\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eSHOW TABLES;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Modify the database table\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eINSERT INTO\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eTABLE\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e table1 \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eVALUES\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e1\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e, \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;one\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e), (\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e2\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e, \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;two\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e-- Examine the database table\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eSELECT\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e*\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003eFROM\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e table1;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"21:Tacf,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# From edge-01.tdp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esudo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003esu\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_user\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekinit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-ki\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Run a spark application locally\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003espark-submit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--class\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eorg.apache.spark.examples.SparkPi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--master\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003elocal[\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e4\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e]\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e100\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Or spark-submit a spark application to yarn\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003espark-submit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--class\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eorg.apache.spark.examples.SparkPi\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--master\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eyarn\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-constant)\"\u003e100\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"22:T16fe,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# From edge-01.tdp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esudo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003esu\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_user\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekinit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-ki\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Create a session\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-k\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--negotiate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-X\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ePOST\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttps://edge-01.tdp:8998/sessions\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-d\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;{\u0026quot;kind\u0026quot;: \u0026quot;pyspark\u0026quot;}\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-H\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Content-Type: application/json\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Get the session status (wait until it is \u0026quot;idle\u0026quot;)\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-k\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--negotiate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-X\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eGET\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttps://edge-01.tdp:8998/sessions\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Submit a snippet of code to the session\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-k\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--negotiate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-X\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ePOST\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttps://edge-01.tdp:8998/sessions/0/statements\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-d\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;{\u0026quot;code\u0026quot;: \u0026quot;1 + 1\u0026quot;}\u0026#39;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-H\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string-expression)\"\u003e\u0026#39;Content-Type: application/json\u0026#39;\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Get the statement result\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ecurl\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-k\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-u\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e:\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--negotiate\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-X\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003eGET\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003ehttps://edge-01.tdp:8998/sessions/0/statements/0\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"23:Tf4d,"])</script><script>self.__next_f.push([1,"\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# From edge-01.tdp\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003esudo\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003esu\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etdp_user\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekinit\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e-ki\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Create a topic\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekafka-topics.sh\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--create\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etest-topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--command-config\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/etc/kafka/conf/client.properties\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Write messages to the topic\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekafka-console-producer.sh\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etest-topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--producer.config\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/etc/kafka/conf/producer.properties\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eHello there\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eI am writting messages to a Kafka topic\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003eHow cool is that\u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e?\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-keyword)\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e^C \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# CTRL+C to leave the console producer\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-comment)\"\u003e# Read all messages from the topic\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-token-function)\"\u003ekafka-console-consumer.sh\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003etest-topic\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--from-beginning\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \\\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e  \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e--consumer.config\u003c/span\u003e\u003cspan style=\"color: var(--shiki-color-text)\"\u003e \u003c/span\u003e\u003cspan style=\"color: var(--shiki-token-string)\"\u003e/etc/kafka/conf/consumer.properties\u003c/span\u003e\u003c/span\u003e\n\u003cspan\u003e\u003c/span\u003e"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"p\",null,{\"children\":\"Use this repository to have a working directory where you run deploy commands with predefined virtual infrastructure with Vagrant or your own infrastructure.\\nYou can customize the infrastructure and components of your cluster with 1 command per component.\"}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"setup-script\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#setup-script\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Setup script\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To help users to setup the getting started, a setup script is located \",[\"$\",\"a\",null,{\"href\":\"scripts/setup.sh\",\"children\":\"here\"}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"features-and-requirements\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#features-and-requirements\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Features and requirements\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"$L15\",null,{\"children\":\"-e\"}],\" option is used to enable features, for example \",[\"$\",\"$L15\",null,{\"children\":\"-e extras\"}],\" enable TDP extras. Each feature have requirements, so if you enable a feature, you \",[\"$\",\"strong\",null,{\"children\":\"MUST\"}],\" install the feature requirements \",[\"$\",\"strong\",null,{\"children\":\"BEFORE\"}],\" launching the setup script.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Common requirements are:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Python \u003e= 3.6 with virtual env package (i.e. \",[\"$\",\"$L15\",null,{\"children\":\"python3-venv\"}],\")\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Unzip (to execute the setup scripts)\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L15\",null,{\"children\":\"jq\"}],\" required to execute helper script\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Python requirements like Ansible and Mitogen are listed in the file \",[\"$\",\"$L15\",null,{\"children\":\"requirements.txt\"}],\". The virtual environment is populated with these requirements. Therefore, you should not install them by yourself outside of the virtual environment. Only versions described in \",[\"$\",\"$L15\",null,{\"children\":\"requirements.txt\"}],\" are supported.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Specific features requirements are:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L15\",null,{\"children\":\"vagrant\"}],\": see requirements in \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-vagrant\",\"children\":\"https://github.com/TOSIT-IO/tdp-vagrant\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"$L15\",null,{\"children\":\"ui\"}],\": see requirements in \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-ui\",\"children\":\"https://github.com/TOSIT-IO/tdp-ui\"}],\".\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"release\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#release\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Release\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"$L15\",null,{\"children\":\"-r\"}],\" option is for selecting \",[\"$\",\"$L15\",null,{\"children\":\"stable\"}],\" or \",[\"$\",\"$L15\",null,{\"children\":\"latest\"}],\" version for all features. \",[\"$\",\"$L15\",null,{\"children\":\"stable\"}],\" is recommended if you are new to TDP. We try our best to have a \",[\"$\",\"$L15\",null,{\"children\":\"stable\"}],\" release working. \",[\"$\",\"$L15\",null,{\"children\":\"latest\"}],\" is recommended when you want to contribute to TDP.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"clean-mode\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#clean-mode\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Clean mode\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"By default, the setup script will not delete your custom configuration, for example, the \",[\"$\",\"$L15\",null,{\"children\":\".env\"}],\" file is generated by the setup script and this file is read by \",[\"$\",\"$L15\",null,{\"children\":\"tdp-lib\"}],\" and \",[\"$\",\"$L15\",null,{\"children\":\"tdp-server\"}],\". You can change it to your preference and rerun the setup script without losing your modification.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If you want a clean configuration (i.e. remove your custom change), you can add the \",[\"$\",\"$L15\",null,{\"children\":\"-c\"}],\" flag and the setup script will remove and create files, symlink, directory it creates.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"quick-start\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#quick-start\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Quick Start\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The below steps will deploy a TDP cluster with \",[\"$\",\"strong\",null,{\"children\":\"all features\"}],\" (see the line with \",[\"$\",\"$L15\",null,{\"children\":\"./scripts/setup.sh\"}],\" and multiple \",[\"$\",\"$L15\",null,{\"children\":\"-e\"}],\" option) so you \",[\"$\",\"strong\",null,{\"children\":\"MUST\"}],\" install all requirements. If you want specific features, modify the \",[\"$\",\"$L15\",null,{\"children\":\"./scripts/setup.sh\"}],\" line.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If Vagrant is enabled, the Ansible \",[\"$\",\"$L15\",null,{\"children\":\"host.ini\"}],\" file will be generated using the \",[\"$\",\"$L15\",null,{\"children\":\"hosts\"}],\" variable in \",[\"$\",\"$L15\",null,{\"children\":\"tdp-vagrant/vagrant.yml\"}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"prerequisites\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#prerequisites\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Prerequisites\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Clone project from version control\\ngit clone https://github.com/TOSIT-IO/tdp-getting-started.git\\n# Move into project dir\\ncd tdp-getting-started\\n# Setup local env with stable tdp-collection (mandatory), tdp-lib (mandatory), tdp-server, tdp-ui, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\\n# Modify the line below for your needs\\n./scripts/setup.sh -e server -e ui -e extras -e observability -e prerequisites -e vagrant\\n# Activate Python virtual env and set environment variables\\nsource ./venv/bin/activate \u0026\u0026 source .env\\n# To enable mitogen (optional)\\nexport ANSIBLE_STRATEGY_PLUGINS=\\\"$(python -c 'import os,ansible_mitogen; print(os.path.dirname(ansible_mitogen.__file__))')/plugins/strategy\\\"\\nexport ANSIBLE_STRATEGY=\\\"mitogen_linear\\\"\\n# Launch VMs\\nvagrant up\\n# Configure TDP prerequisites\\nansible-playbook ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$17\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You have four ways to deploy a TDP cluster, using TDP UI, using TDP server API, using TDP lib CLI, or using Ansible playbook.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deploy-with-tdp-ui\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#deploy-with-tdp-ui\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Deploy with TDP UI\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Open a new terminal and activate python virtual env\\nsource ./venv/bin/activate \u0026\u0026 source .env\\n# Start tdp-server\\nuvicorn tdp_server.main:app --reload\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$18\"}]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Open a new terminal and start tdp-ui\\nnpm --prefix ./tdp-ui run dev\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# Open a new terminal and start tdp-ui\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003enpm\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003e--prefix\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003e./tdp-ui\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003erun\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003edev\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the UI, click on “Deployments”, “New deployment”, “Deploy from the DAG”, “Preview” (by default all services are deployed), “Deploy”.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You can see the deployment in the “Deployments” page. Wait deployment to complete.\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Configure HDFS user home directories\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\\n# Configure Ranger policies\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# Configure HDFS user home directories\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# Configure Ranger policies\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deploy-with-tdp-server-api\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#deploy-with-tdp-server-api\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Deploy with TDP server API\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Open a new terminal and activate python virtual env\\nsource ./venv/bin/activate \u0026\u0026 source .env\\n# Start tdp-server\\nuvicorn tdp_server.main:app --reload\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$19\"}]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Deploy TDP cluster core and extras services\\ncurl -X POST http://localhost:8000/api/v1/deploy/dag\\n# You can see the log in the tdp-server output (the terminal where uvicorn is running)\\n# Wait deployment\\nwhile ! curl -s http://localhost:8000/api/v1/deploy/status | grep -q \\\"no deployment on-going\\\"; do sleep 10; done\\n# Configure HDFS user home directories\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\\n# Configure Ranger policies\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1a\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deploy-with-tdp-lib-cli\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#deploy-with-tdp-lib-cli\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Deploy with TDP lib CLI\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Deploy TDP cluster core and extras services\\ntdp deploy\\n# Configure HDFS user home directories\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\\n# Configure Ranger policies\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1b\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"deploy-with-ansible-playbook\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#deploy-with-ansible-playbook\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Deploy with Ansible playbook\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Deploy TDP cluster core services\\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/all.yml\\n# Deploy extras services\\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\\n# Deploy observability services\\nansible-playbook ansible_collections/tosit/tdp_observability/playbooks/meta/prometheus.yml\\nansible-playbook ansible_collections/tosit/tdp_observability/playbooks/meta/grafana.yml\\n# Configure HDFS user home directories\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\\n# Configure Ranger policies\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1c\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"web-uis-links\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#web-uis-links\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Web UIs Links\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-01.tdp:9871/dfshealth.html\",\"children\":\"HDFS NN Master 01\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-02.tdp:9871/dfshealth.html\",\"children\":\"HDFS NN Master 02\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-01.tdp:8090/cluster/apps\",\"children\":\"YARN RM Master 01\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-02.tdp:8090/cluster/apps\",\"children\":\"YARN RM Master 02\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-03.tdp:19890/jobhistory\",\"children\":\"MapReduce Job History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-01.tdp:16010/master-status\",\"children\":\"HBase Master 01\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-02.tdp:16010/master-status\",\"children\":\"HBase Master 02\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-03.tdp:18081/\",\"children\":\"Spark History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-03.tdp:18083/\",\"children\":\"Spark3 History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-03.tdp:6182/index.html\",\"children\":\"Ranger Admin\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://master-03.tdp:8000/\",\"children\":\"JupyterHub\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Note:\"}],\" All the WebUIs are Kerberized, you need to have a working Kerberos client on your host, configure the KDC in your \",[\"$\",\"$L15\",null,{\"children\":\"/etc/krb5.conf\"}],\" file and obtain a valid ticket. You can also access the WebUIs through \",[\"$\",\"a\",null,{\"href\":\"#knox\",\"children\":\"Knox\"}],\".\"]}],\"\\n\",[\"$\",\"h2\",null,{\"id\":\"customised-deployment\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#customised-deployment\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Customised Deployment\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Each of the below sections includes a high-level explanation of each possible step of TDP deployment.\"}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"environment-setup\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#environment-setup\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Environment Setup\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Execute the \",[\"$\",\"$L15\",null,{\"children\":\"setup.sh\"}],\" script to create the project directories needed and clone stable or latest Ansible TDP collections. It also downloads the TDP binaries from their GitHub releases (e.g., \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/hadoop/releases/tag/hadoop-project-dist-3.1.1-TDP-0.1.0-SNAPSHOT\",\"children\":\"Hadoop\"}],\").\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Note:\"}],\" The list of TDP binaries needed for deployment is maintained in the \",[\"$\",\"$L15\",null,{\"children\":\"scripts/tdp-release-uris.txt\"}],\" file.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# Get stable tdp-collection\\n./scripts/setup.sh\\n# Get latest tdp-collection, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\\n./scripts/setup.sh -e extras -e observability -e prerequisites -e vagrant -r latest\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1d\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"configure-infrastructure\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#configure-infrastructure\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Configure infrastructure\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"use-tdp-vagrant\",\"children\":\"Use TDP Vagrant\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To use \",[\"$\",\"$L15\",null,{\"children\":\"tdp-vagrant\"}],\" it is necessary to use the \",[\"$\",\"$L15\",null,{\"children\":\"-e vagrant\"}],\" option when using \",[\"$\",\"$L15\",null,{\"children\":\"setup.sh\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"You can define \",[\"$\",\"$L15\",null,{\"children\":\"vagrant.yml\"}],\" file to update the machine resources according to your machine’s RAM and core count (3Gb of RAM and 4 cores is ideal for the master nodes). The file \",[\"$\",\"$L15\",null,{\"children\":\"tdp-vagrant/vagrant.yml\"}],\" contains default values.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"cp tdp-vagrant/vagrant.yml .\\n# Now you can edit ./vagrant.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003ecp\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003etdp-vagrant/vagrant.yml\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003e.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-comment)\\\"\u003e# Now you can edit ./vagrant.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Important:\"}],\" Do not modify \",[\"$\",\"$L15\",null,{\"children\":\"tdp-vagrant/vagrant.yml\"}],\" to make it easier to update git submodule. The Vagrantfile will read \",[\"$\",\"$L15\",null,{\"children\":\"vagrant.yml\"}],\" in the current directory and fallback to \",[\"$\",\"$L15\",null,{\"children\":\"tdp-vagrant/vagrant.yml\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Start VMs with \",[\"$\",\"$L15\",null,{\"children\":\"vagrant\"}],\" command.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"vagrant up\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003evagrant\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eup\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For TDP Vagrant usage see \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-vagrant\",\"children\":\"https://github.com/TOSIT-IO/tdp-vagrant\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Note:\"}],\" The \",[\"$\",\"$L15\",null,{\"children\":\"helper.sh\"}],\" script can generate the list of hosts in the cluster. Add the generated lines to your \",[\"$\",\"$L15\",null,{\"children\":\"/etc/hosts\"}],\" file to resolve the local nodes from your shell or browser.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"./scripts/helper.sh -h\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003e./scripts/helper.sh\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003e-h\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"configure-prerequisites\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#configure-prerequisites\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Configure prerequisites\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To use \",[\"$\",\"$L15\",null,{\"children\":\"tdp-collection-prerequisites\"}],\" it is necessary to use the \",[\"$\",\"$L15\",null,{\"children\":\"-e prerequisites\"}],\" option when using \",[\"$\",\"$L15\",null,{\"children\":\"setup.sh\"}],\".\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This playbook deploys the following services: Chrony, a CA, a LDAP, a KDC, a PostgreSQL.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For TDP prerequisites usage see \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-collection-prerequisites\",\"children\":\"https://github.com/TOSIT-IO/tdp-collection-prerequisites\"}],\".\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"core-services-deployment\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#core-services-deployment\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Core Services Deployment\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"tdp-lib-command\",\"children\":\"TDP lib command\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"tdp deploy\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003etdp\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003edeploy\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This command deploys all core and extra (if enable during setup) services.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For TDP lib usage see \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-lib\",\"children\":\"https://github.com/TOSIT-IO/tdp-lib\"}],\".\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"main-playbook\",\"children\":\"Main playbook\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/all.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/all.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This playbook deploys the following services: Exporter, ZooKeeper, Hadoop core (HDFS, YARN, MapReduce), Ranger, Hive, Spark (2 and 3), HBase and Knox. \",[\"$\",\"strong\",null,{\"children\":[\"It does not deploy extras services (see \",[\"$\",\"a\",null,{\"href\":\"#extras-services-deployment\",\"children\":\"Extras Services Deployment\"}],\" to deploy it).\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For TDP usage see \",[\"$\",\"a\",null,{\"href\":\"https://github.com/TOSIT-IO/tdp-collection\",\"children\":\"https://github.com/TOSIT-IO/tdp-collection\"}],\".\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"exporter\",\"children\":\"Exporter\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/exporter.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/exporter.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"zookeeper\",\"children\":\"Zookeeper\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Apache ZooKeeper to the \",[\"$\",\"$L15\",null,{\"children\":\"[zk]\"}],\" Ansible group and starts a 3 node Zookeeper Quorum.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/zookeeper.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/zookeeper.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Run \",[\"$\",\"$L15\",null,{\"children\":\"echo stat | nc localhost 2181\"}],\" from any node in the \",[\"$\",\"$L15\",null,{\"children\":\"[zk]\"}],\" group to see its ZooKeeper status.\"]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"ranger\",\"children\":\"Ranger\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Ranger to the \",[\"$\",\"$L15\",null,{\"children\":\"[ranger_admin]\"}],\" Ansible group.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Note that any changes to the \",[\"$\",\"$L15\",null,{\"children\":\"[ranger_admin]\"}],\" hosts should also be reflected in the \",[\"$\",\"$L15\",null,{\"children\":\"[hadoop client group\"}],\"].\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/ranger.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Ranger UI can be accessed at the address \",[\"$\",\"$L15\",null,{\"children\":\"https://\u003cmaster-02.tdp ip\u003e:6182/login.jsp\"}],\" and the user \",[\"$\",\"$L15\",null,{\"children\":\"admin\"}],\" and password \",[\"$\",\"$L15\",null,{\"children\":\"RangerAdmin123\"}],\" (assuming default \",[\"$\",\"$L15\",null,{\"children\":\"ranger_admin_password\"}],\" parameter). You may need to import the \",[\"$\",\"$L15\",null,{\"children\":\"root.pem\"}],\" certificate authority into your browser or accept the SSL exception.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"launch-hdfs-yarn--mapreduce\",\"children\":\"Launch HDFS, YARN \u0026 MapReduce\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Launches HDFS, YARN, and deploys MapReduce clients.\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hadoop.yml\\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hdfs.yml\\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/yarn.yml\\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/hadoop.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/hdfs.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/meta/yarn.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"$L15\",null,{\"children\":\"tdp_user\"}],\" can access and write to its HDFS user directory:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# From edge-01.tdp\\nsudo su - tdp_user\\nkinit -ki\\necho \\\"This is the first line.\\\" | hdfs dfs -put - /user/tdp_user/test-file.txt\\necho \\\"This is the second (appended) line.\\\" | hdfs dfs -appendToFile - /user/tdp_user/test-file.txt\\nhdfs dfs -cat /user/tdp_user/test-file.txt\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1e\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"hive\",\"children\":\"Hive\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Hive to the \",[\"$\",\"$L15\",null,{\"children\":\"[hive_s2]\"}],\" Ansible group. HDFS filesystem is created and the service is launched.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hive.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To interact with Hive, use the \",[\"$\",\"$L15\",null,{\"children\":\"beeline\"}],\" CLI:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# From edge-01.tdp\\nsudo su - tdp_user\\nkinit -ki\\nexport hive_truststore_password='Truststore123!'\\n\\n# Connect to a random HiveServer2 using ZooKeeper\\nbeeline -u \\\"jdbc:hive2://master-01.tdp:2181,master-02.tdp:2181,master-03.tdp:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\\\"\\n\\n# Or directly to a HiveServer2\\nbeeline -u \\\"jdbc:hive2://master-03.tdp:10001/;principal=hive/_HOST@REALM.TDP;transportMode=http;httpPath=cliservice;ssl=true;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\\\"\\n\\n# You can also use `beeline` alone which will default to the ZooKeeper mode\\nbeeline\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$1f\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"From the Beeline shell:\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"sql\",\"code\":\"-- Create the database\\nCREATE DATABASE IF NOT EXISTS tdp_user LOCATION '/user/tdp_user/warehouse/tdp_user.db';\\nUSE tdp_user;\\n\\n-- Examine the database\\nSHOW DATABASES;\\nSHOW TABLES;\\n\\n-- Modify the database\\nCREATE TABLE IF NOT EXISTS table1 (\\n  col1 INT COMMENT 'Integer Column',\\n  col2 STRING COMMENT 'String Column'\\n);\\n\\n-- Examine the database\\nSHOW TABLES;\\n\\n-- Modify the database table\\nINSERT INTO TABLE table1 VALUES (1, 'one'), (2, 'two');\\n\\n-- Examine the database table\\nSELECT * FROM table1;\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-sql\",\"children\":\"$20\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"spark\",\"children\":\"Spark\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys spark installations to the \",[\"$\",\"$L15\",null,{\"children\":\"[spark_hs]\"}],\" and the \",[\"$\",\"$L15\",null,{\"children\":\"[spark_client]\"}],\" Ansible group.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"To submit a Spark application:\"}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# From edge-01.tdp\\nsudo su - tdp_user\\nkinit -ki\\n\\n# Run a spark application locally\\nspark-submit --class org.apache.spark.examples.SparkPi --master local[4]  /opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar 100\\n\\n# Or spark-submit a spark application to yarn\\nspark-submit --class org.apache.spark.examples.SparkPi --master yarn  /opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar 100\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$21\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Note:\"}],\" Other Spark CLIs are available: \",[\"$\",\"$L15\",null,{\"children\":\"pyspark\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"spark-shell\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"spark-sql\"}],\".\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"spark-3\",\"children\":\"Spark 3\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys spark3 installations to the \",[\"$\",\"$L15\",null,{\"children\":\"[spark3_hs]\"}],\" and the \",[\"$\",\"$L15\",null,{\"children\":\"[spark3_client]\"}],\" Ansible group.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark3.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Spark 3 is installed alongside Spark 2 and can be used exactly the same way. The Spark 3 CLIs are: \",[\"$\",\"$L15\",null,{\"children\":\"spark3-submit\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"spark3-shell\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"spark3-sql\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"pyspark3\"}],\".\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"hbase\",\"children\":\"HBase\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys HBase masters, regionservers, rest and clients to the \",[\"$\",\"$L15\",null,{\"children\":\"[hbase_master]\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"[hbase_rs]\"}],\", \",[\"$\",\"$L15\",null,{\"children\":\"[hbase_rest]\"}],\" and \",[\"$\",\"$L15\",null,{\"children\":\"[hbase_client]\"}],\" Ansible groups respectively.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hbase.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As \",[\"$\",\"$L15\",null,{\"children\":\"tdp_user\"}],\" on \",[\"$\",\"$L15\",null,{\"children\":\"edge-01\"}],\", obtain a Kerberos TGT with the command \",[\"$\",\"$L15\",null,{\"children\":\"kinit -ki\"}],\" and access the HBase shell with the command \",[\"$\",\"$L15\",null,{\"children\":\"hbase shell\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Commands such as the below can be used to test your HBase deployment:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"list\\nlist_namespace\\ncreate ‘tdp_user_table’, ‘cf’\\nput ‘tdp_user_table’, ‘row1’, ‘cf:testColumn’, ‘testValue’\\ndisable ‘tdp_user_table’\\ndrop ‘tdp_user_table’\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"knox\",\"children\":\"Knox\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Knox Gateway on the \",[\"$\",\"$L15\",null,{\"children\":\"[knox]\"}],\" Ansible group:\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/knox.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You can then access the WebUIs of the TDP services through Knox:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/hdfs\",\"children\":\"HDFS NN\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/yarn\",\"children\":\"YARN RM\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/jobhistory\",\"children\":\"MapReduce Job History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/hbase/webui/master/master-status?host=master-01.tdp\u0026port=16010\",\"children\":\"HBase Master\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/sparkhistory\",\"children\":\"Spark History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/spark3history\",\"children\":\"Spark3 History Server\"}]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8443/gateway/tdpldap/ranger\",\"children\":\"Ranger Admin\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Note: You can login to Knox using the \",[\"$\",\"$L15\",null,{\"children\":\"tdp_user\"}],\" that is created in the next step.\"]}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"extras-services-deployment\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#extras-services-deployment\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Extras Services Deployment\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"livy\",\"children\":\"Livy\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Livy Server on the \",[\"$\",\"$L15\",null,{\"children\":\"[livy_server]\"}],\" group hosts:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Livy Server can be accessed at \",[\"$\",\"a\",null,{\"href\":\"https://edge-01.tdp:8998\",\"children\":\"https://edge-01.tdp:8998\"}],\" After deployment, one can create a Spark session and interact with it through cURL:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"# From edge-01.tdp\\nsudo su - tdp_user\\nkinit -ki\\n\\n# Create a session\\ncurl -k -u : --negotiate -X POST https://edge-01.tdp:8998/sessions \\\\\\n  -d '{\\\"kind\\\": \\\"pyspark\\\"}' -H 'Content-Type: application/json'\\n# Get the session status (wait until it is \\\"idle\\\")\\ncurl -k -u : --negotiate -X GET https://edge-01.tdp:8998/sessions\\n# Submit a snippet of code to the session\\ncurl -k -u : --negotiate -X POST https://edge-01.tdp:8998/sessions/0/statements \\\\\\n  -d '{\\\"code\\\": \\\"1 + 1\\\"}' -H 'Content-Type: application/json'\\n# Get the statement result\\ncurl -k -u : --negotiate -X GET https://edge-01.tdp:8998/sessions/0/statements/0\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"$22\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"livy-for-spark-3\",\"children\":\"Livy for Spark 3\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Another Livy server is deployed for Spark 3 on the \",[\"$\",\"$L15\",null,{\"children\":\"[livy-spark3_server]\"}],\" group hosts:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The default port is different than the regular Livy server: \",[\"$\",\"$L15\",null,{\"children\":\"8999\"}],\" instead of \",[\"$\",\"$L15\",null,{\"children\":\"8998\"}],\".\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"zookeeper-kafka\",\"children\":\"Zookeeper Kafka\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys Apache ZooKeeper to the \",[\"$\",\"$L15\",null,{\"children\":\"[zk_kafka]\"}],\" Ansible group and starts a 3 node Zookeeper Quorum dedicated to Kafka.\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"kafka\",\"children\":\"Kafka\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deploys a Kafka cluster on the \",[\"$\",\"$L15\",null,{\"children\":\"[kafka_broker]\"}],\" group hosts:\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"bash\",\"code\":\"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-bash\",\"children\":\"\u003cspan\u003e\u003cspan style=\\\"color: var(--shiki-token-function)\\\"\u003eansible-playbook\u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-color-text)\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: var(--shiki-token-string)\\\"\u003eansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\u003c/span\u003e\u003c/span\u003e\\n\u003cspan\u003e\u003c/span\u003e\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The Kafka CLIs are available on the edge node for all users and client properties files are in \",[\"$\",\"$L15\",null,{\"children\":\"/etc/kafka/conf/*.properties\"}],\". After deployment, one can interact with Kafka from \",[\"$\",\"$L15\",null,{\"children\":\"edge-01.tdp\"}],\":\"]}],\"\\n\",[\"$\",\"$L16\",null,{\"language\":\"sh\",\"code\":\"# From edge-01.tdp\\nsudo su - tdp_user\\nkinit -ki\\n\\n# Create a topic\\nkafka-topics.sh --create --topic test-topic \\\\\\n  --command-config /etc/kafka/conf/client.properties\\n# Write messages to the topic\\nkafka-console-producer.sh --topic test-topic \\\\\\n  --producer.config /etc/kafka/conf/producer.properties\\n\u003eHello there\\n\u003eI am writting messages to a Kafka topic\\n\u003eHow cool is that?\\n\u003e^C # CTRL+C to leave the console producer\\n# Read all messages from the topic\\nkafka-console-consumer.sh --topic test-topic --from-beginning \\\\\\n  --consumer.config /etc/kafka/conf/consumer.properties\\n\",\"children\":[\"$\",\"$L15\",null,{\"className\":\"language-sh\",\"children\":\"$23\"}]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"utils\",\"children\":[[\"$\",\"a\",null,{\"className\":\"anchor before\",\"href\":\"#utils\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 16 16\",\"children\":[\"$\",\"path\",null,{\"d\":\"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z\"}]}]}],\"Utils\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"configure-hdfs-user-home-directories\",\"children\":\"Configure HDFS user home directories\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Create, update, remove HDFS user home directories.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Additional users can be added to the Ansible variable \",[\"$\",\"$L15\",null,{\"children\":\"hdfs_user_homes\"}],\" if required.\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"When adding users following the Ranger Usersync deployment, you will need to add or update Ranger policies including these new users. You must wait for Ranger Usersync to poll users from LDAP or you can restart the Ranger Usersync using the following playbook:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/ranger_usersync_restart.yml\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"configure-ranger-policies\",\"children\":\"Configure Ranger policies\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Create, update, remove Ranger policies.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"Additional policies can be added to the Ansible variable \",[\"$\",\"$L15\",null,{\"children\":\"ranger_policies\"}],\" if required.\"]}]}]]\n"])</script></body></html>