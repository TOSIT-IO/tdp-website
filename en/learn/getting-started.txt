1:HL["/tdp-website/_next/static/media/2aaf0723e720e8b9-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/tdp-website/_next/static/media/9c6817ab9c992ff9-s.p.woff2",{"as":"font","type":"font/woff2"}]
3:HL["/tdp-website/_next/static/css/4ab36cb7e050524a.css",{"as":"style"}]
0:[[["",{"children":[["lang","en","d"],{"children":["(pages)",{"children":[["slug","learn/getting-started","c"],{"children":["__PAGE__?{\"lang\":\"en\",\"slug\":[\"learn\",\"getting-started\"]}",{}]}]}]}]},"$undefined","$undefined",true],"$L4",[[["$","link","0",{"rel":"stylesheet","href":"/tdp-website/_next/static/css/4ab36cb7e050524a.css","precedence":"next"}]],["$L5",["$","meta",null,{"name":"next-size-adjust"}]]]]]
4:["$L6",null]
7:I{"id":"4463","chunks":["272:static/chunks/webpack-3184a0a97ce8f045.js","253:static/chunks/bce60fc1-4048b7ad2395bc5d.js","488:static/chunks/488-d55481c0098bdbbc.js"],"name":"","async":false}
8:I{"id":"1010","chunks":["272:static/chunks/webpack-3184a0a97ce8f045.js","253:static/chunks/bce60fc1-4048b7ad2395bc5d.js","488:static/chunks/488-d55481c0098bdbbc.js"],"name":"","async":false}
6:["$","html",null,{"lang":"en","children":["$","body",null,{"className":"relative h-full text-slate-200 dark bg-[#263134] __variable_ae291c font-sans __variable_be7d15","children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L9",null],"segment":["lang","en","d"]},"styles":[]}]}]}]
9:[["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children",["lang","en","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children",["lang","en","d"],"children","(pages)","children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$La",null],"segment":["slug","learn/getting-started","c"]},"styles":[]}],"segment":"(pages)"},"styles":[]}],"$Lb"]
c:I{"id":"8920","chunks":["920:static/chunks/920-3ec6a20292c60311.js","6:static/chunks/app/[lang]/(pages)/discover/sitemap/page-f2ce5e90f25b0077.js"],"name":"","async":false}
b:["$","div",null,{"className":"p-10 border-t-2 border-slate-500","style":{"background":"linear-gradient(154.09deg, rgba(0, 0, 0, 0.2) 16.35%, rgba(0, 0, 0, 0) 39.32%), radial-gradient(14.08% 17.22% at 86.26% 77.02%, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0) 100%), radial-gradient(31.27% 31.27% at 81.13% 24.31%, rgba(86, 80, 28, 0.2) 0%, rgba(11, 36, 32, 0) 100%), radial-gradient(26.56% 26.56% at 19.78% 70.31%, rgba(54, 22, 28, 0.2) 0%, rgba(10, 14, 27, 0) 100%), linear-gradient(180deg, #2F3A44 0%, #202B2B 100%)"},"children":["$","footer",null,{"className":"","children":["$","ul",null,{"className":"max-w-4xl px-6 m-auto grid grid-cols-3 [&_h2]:mb-3 [&_h2]:italic [&_h2]:font-extralight [&_h2]:text-white/50","children":[["$","li",null,{"children":[["$","h2",null,{"children":"First steps"}],["$","ul",null,{"children":[["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"/en/discover","children":"Discover"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"/en/learn/getting-started","children":"Getting started"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"#","children":"Download"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"/en/discover/sitemap","children":"Sitemap"}]}]]}]]}],["$","li",null,{"children":[["$","h2",null,{"children":"Advanced usage"}],["$","ul",null,{"children":[["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"#","children":"Configuration"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"#","children":"Using the CLI"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"#","children":"Rest API"}]}],["$","li",null,{"children":["$","$Lc",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"#","children":"Advanced usage"}]}]]}]]}],["$","li",null,{"children":[["$","h2",null,{"children":"Developper community"}],["$","ul",null,{"className":"space-y-1","children":[["$","li",null,{"children":["$","a",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"https://github.com/TOSIT-IO/TDP","target":"_blank","children":"GitHub repository"}]}],["$","li",null,{"children":["$","a",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"https://github.com/TOSIT-IO/TDP/issues","target":"_blank","children":"Issues"}]}],["$","li",null,{"children":["$","a",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"https://github.com/orgs/TOSIT-IO/discussions","target":"_blank","children":"Discussions"}]}],["$","li",null,{"children":["$","a",null,{"className":"text-white/70 hover:text-[#00FFFA]","href":"https://github.com/TOSIT-IO/TDP/blob/main/LICENSE","target":"_blank","children":"License"}]}]]}]]}]]}]}]}]
5:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Getting Started with TDP | TDP"}],["$","meta","2",{"name":"description","content":"Deploy a local development cluster with Vagrant and virtual machines.\n"}],["$","link","3",{"rel":"author","href":"https://adaltas.com"}],["$","meta","4",{"name":"author","content":"David Worms"}],["$","meta","5",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","6",{"name":"category","content":"technology"}],["$","link","7",{"rel":"icon","href":"/favicon.svg"}]]
d:I{"id":"1290","chunks":["920:static/chunks/920-3ec6a20292c60311.js","121:static/chunks/121-a7eb573acf7b9450.js","656:static/chunks/app/[lang]/(pages)/discover/layout-1634a566e073f565.js"],"name":"","async":false}
e:I{"id":"8920","chunks":["920:static/chunks/920-3ec6a20292c60311.js","6:static/chunks/app/[lang]/(pages)/discover/sitemap/page-f2ce5e90f25b0077.js"],"name":"*","async":false}
a:[["$","header",null,{"className":"fixed top-0 w-full z-10 h-[60px] flex border-b border-slate-500 px-6 xl:pl-0","style":{"background":"radial-gradient(50% 50% at 50% 50%, rgba(14, 11, 22, 0.12) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(17.86% 94.3% at 87.98% 36.67%, rgba(27, 83, 83, 0.18) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(50.96% 97.73% at 18.2% 68.08%, rgba(28, 74, 74, 0.26) 0%, rgba(0, 0, 0, 0) 100%), rgba(44, 48, 49, 0.90)"},"children":[["$","div",null,{"className":"h-full w-auto xl:w-[400px] py-[12px] flex xl:bg-black/20 xl:border-r xl:border-r-white/10","children":["$","$Lc",null,{"className":"relative w-full","href":"/","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 113 44","className":"h-full m-auto","children":[["$","path",null,{"fill":"#fff","d":"M100.189 11.847h-11.72v6.246a16.088 16.088 0 0 0-12.735-6.246H40.439v7.35h7.932v24.604h7.395V19.198h7.495v8.823h7.395v-8.823h5.078c4.784 0 8.677 3.87 8.677 8.625s-3.893 8.625-8.677 8.625h-5.038v7.35h5.038c5.18 0 9.794-2.451 12.735-6.245v6.246h7.395v-8.474h4.325c6.512 0 11.812-5.266 11.812-11.742 0-6.47-5.3-11.736-11.812-11.736Zm0 16.13h-4.325v-8.78h4.325c2.435 0 4.415 1.97 4.415 4.389 0 2.42-1.982 4.39-4.415 4.39ZM25.898 21.314c-2.131 4.5-3.172 5.732-4.831 5.732-1.52 0-2.656-.909-2.656-1.722h-7.395c0 5.003 4.509 9.076 10.053 9.076 6.808 0 9.535-5.754 11.524-9.954 1.206-2.546 2.603-4.042 4.564-4.745v-7.575c-5.051.88-8.755 3.903-11.259 9.188Z"}],["$","path",null,{"fill":"#404242","d":"M40.5 22.856a2.499 2.499 0 0 0-2.507 2.491A2.499 2.499 0 0 0 40.5 27.84a2.499 2.499 0 0 0 2.506-2.491 2.5 2.5 0 0 0-2.506-2.492Z"}],["$","path",null,{"fill":"#C9DDDE","d":"M12.149 9.014a13.156 13.156 0 0 1 3.727-3.622c-1.549-2.214-4.178-3.976-7.72-5.078a2.523 2.523 0 0 0-3.159 1.644 2.504 2.504 0 0 0 1.654 3.14c1.801.56 4.614 1.756 5.498 3.916Z"}],["$","path",null,{"fill":"#89BCBC","d":"M22.535 5.491c-4.3 0-8.095 2.773-9.705 6.611.278.102.553.211.826.334a11.567 11.567 0 0 1 4.262 3.247c.26-2.515 2.554-4.342 4.62-4.342a2.931 2.931 0 0 0 2.94-2.923 2.936 2.936 0 0 0-2.943-2.927Z"}],["$","path",null,{"fill":"#009491","d":"M9.902 20.743c.616.276 1.35.844 1.35 1.986h7.395c0-3.787-2.189-7.117-5.715-8.69-3.86-1.726-8.448-.99-11.688 1.87a3.656 3.656 0 0 0-.31 5.188 3.712 3.712 0 0 0 5.22.308c1.297-1.144 2.83-1.071 3.748-.662Z"}]]}]}]}],["$","ul",null,{"className":"grow flex items-center justify-end","children":[[["$","li","discover",{"className":"flex items-center hidden lg:block","children":["$","$Lc",null,{"className":"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover","children":"Discover"}]}],["$","li","learn",{"className":"flex items-center hidden lg:block","children":["$","$Lc",null,{"className":"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/learn","children":"Learn"}]}],["$","li","contribute",{"className":"flex items-center hidden lg:block","children":["$","$Lc",null,{"className":"text-lg md:text-xl px-3 md:px-6 inline-block hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute","children":"Contribute"}]}]],["$","li",null,{"className":"flex items-stretch","children":["$","a",null,{"className":"flex items-center px-3 hover:text-[#00FFFA] [&>svg_*]:hover:fill-[#00FFFA]","href":"https://github.com/TOSIT-FR/TDP","title":"GitHub project repository","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 23 25","className":"w-5 h-5","children":["$","path",null,{"fill":"#fff","d":"M22.466 9.003a6.674 6.674 0 0 0-1.482-4.167A6.725 6.725 0 0 0 20.693.78a.89.89 0 0 0-.564-.517c-.361-.123-1.733-.357-4.525 1.453-1.2-.317-2.44-.467-3.682-.445a13.522 13.522 0 0 0-3.687.445C5.371-.133 3.88.165 3.581.254a.91.91 0 0 0-.563.527 6.724 6.724 0 0 0-.3 4.044 6.312 6.312 0 0 0-1.478 4.2c0 5.719 3.272 7.446 6.272 8.056-.153.378-.26.771-.315 1.174a.461.461 0 0 0 0 .129v1.583c-2.73.229-3.315-1.37-3.371-1.55a1.33 1.33 0 0 0-.049-.126 4.566 4.566 0 0 0-2.585-2.301.905.905 0 1 0-.574 1.717 2.73 2.73 0 0 1 1.469 1.256c.361 1.174 1.84 3.03 5.098 2.824v1.49h.002a.905.905 0 1 0 1.81 0v-4.825a2.58 2.58 0 0 1 .656-1.412.9.9 0 0 0-.517-1.551c-3.155-.368-6.07-1.406-6.07-6.5h-.002A4.446 4.446 0 0 1 4.39 5.668a.963.963 0 0 0 .207-.962 4.474 4.474 0 0 1-.057-2.74c1.109.25 2.153.738 3.056 1.431a.925.925 0 0 0 .796.11 11.22 11.22 0 0 1 3.547-.481c1.2-.03 2.396.131 3.543.48a.912.912 0 0 0 .796-.109 8.138 8.138 0 0 1 2.927-1.422 4.59 4.59 0 0 1-.066 2.768.893.893 0 0 0 .175.878 5.034 5.034 0 0 1 1.36 3.368c0 5.082-3.066 6.138-6.07 6.5a.897.897 0 0 0-.434 1.618c.32.242.692.925.692 2.069v4.096-.002a.905.905 0 1 0 1.81 0v-4.095a5.55 5.55 0 0 0-.387-2.104c2.43-.518 6.183-2.115 6.183-8.069Z"}]}]}]}],false,["$","li",null,{"className":"block lg:hidden","children":["$","$Ld",null,{"children":[["$","div",null,{"className":"my-5 h-[3rem] w-auto xl:w-[400px] flex","children":["$","$Le",null,{"className":"relative w-full","href":"/","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 113 44","className":"h-full m-auto","children":[["$","path",null,{"fill":"#fff","d":"M100.189 11.847h-11.72v6.246a16.088 16.088 0 0 0-12.735-6.246H40.439v7.35h7.932v24.604h7.395V19.198h7.495v8.823h7.395v-8.823h5.078c4.784 0 8.677 3.87 8.677 8.625s-3.893 8.625-8.677 8.625h-5.038v7.35h5.038c5.18 0 9.794-2.451 12.735-6.245v6.246h7.395v-8.474h4.325c6.512 0 11.812-5.266 11.812-11.742 0-6.47-5.3-11.736-11.812-11.736Zm0 16.13h-4.325v-8.78h4.325c2.435 0 4.415 1.97 4.415 4.389 0 2.42-1.982 4.39-4.415 4.39ZM25.898 21.314c-2.131 4.5-3.172 5.732-4.831 5.732-1.52 0-2.656-.909-2.656-1.722h-7.395c0 5.003 4.509 9.076 10.053 9.076 6.808 0 9.535-5.754 11.524-9.954 1.206-2.546 2.603-4.042 4.564-4.745v-7.575c-5.051.88-8.755 3.903-11.259 9.188Z"}],["$","path",null,{"fill":"#404242","d":"M40.5 22.856a2.499 2.499 0 0 0-2.507 2.491A2.499 2.499 0 0 0 40.5 27.84a2.499 2.499 0 0 0 2.506-2.491 2.5 2.5 0 0 0-2.506-2.492Z"}],["$","path",null,{"fill":"#C9DDDE","d":"M12.149 9.014a13.156 13.156 0 0 1 3.727-3.622c-1.549-2.214-4.178-3.976-7.72-5.078a2.523 2.523 0 0 0-3.159 1.644 2.504 2.504 0 0 0 1.654 3.14c1.801.56 4.614 1.756 5.498 3.916Z"}],["$","path",null,{"fill":"#89BCBC","d":"M22.535 5.491c-4.3 0-8.095 2.773-9.705 6.611.278.102.553.211.826.334a11.567 11.567 0 0 1 4.262 3.247c.26-2.515 2.554-4.342 4.62-4.342a2.931 2.931 0 0 0 2.94-2.923 2.936 2.936 0 0 0-2.943-2.927Z"}],["$","path",null,{"fill":"#009491","d":"M9.902 20.743c.616.276 1.35.844 1.35 1.986h7.395c0-3.787-2.189-7.117-5.715-8.69-3.86-1.726-8.448-.99-11.688 1.87a3.656 3.656 0 0 0-.31 5.188 3.712 3.712 0 0 0 5.22.308c1.297-1.144 2.83-1.071 3.748-.662Z"}]]}]}]}],["$","ul",null,{"className":"pb-10 [&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover","children":"Discover"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover/history","children":"History"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover/architecture","children":"Architecture"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover/security","children":"Security"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/discover/roadmap","children":"Roadmap"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}]]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/learn","children":"Learn"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white","href":"/en/learn/getting-started","children":"Getting Started"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/learn/ports","children":"Ports and protocols"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/learn/requirements","children":"Deployment Requirements"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}]]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute","children":"Contribute"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","span",null,{"className":"italic font-extralight text-white/50 py-4","children":"Project"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute/project/content","children":"Content editing"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute/project/contributing","children":"Contributing to TDP"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute/project/license","children":"License"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}],["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute/project/onboarding","children":"Onboarding"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}]]}]]}],["$","li",null,{"className":"my-2","children":[["$","span",null,{"className":"italic font-extralight text-white/50 py-4","children":"Build"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[["$","li",null,{"className":"my-2","children":[["$","$Le",null,{"className":"hover:text-[#00FFFA] text-white/70 hover:text-[#00FFFA]","href":"/en/contribute/build/build-release","children":"Build and release"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}]]}]]}],["$","li",null,{"className":"my-2","children":[["$","span",null,{"className":"italic font-extralight text-white/50 py-4","children":"Developers"}],["$","ul",null,{"className":"[&_ul_li]:pl-3","children":[]}]]}]]}]]}]]}]]}]}]]}]]}],["$","div",null,{"className":"w-full h-full flex min-h-screen","style":{"background":"radial-gradient(23.91% 23.92% at 14.33% 30.99%, rgba(19, 10, 39, 0.2) 0%, rgba(32, 10, 39, 0) 100%), radial-gradient(37.93% 37.93% at 85.72% 23.89%, rgba(4, 11, 18, 0.2) 0%, rgba(58, 95, 129, 0) 100%), radial-gradient(25.52% 25.52% at 24.55% 76.74%, rgba(95, 116, 97, 0.2) 0%, rgba(45, 67, 48, 0) 100%), radial-gradient(42.95% 42.95% at 21.12% 25.63%, rgba(97, 130, 120, 0.2) 0%, rgba(122, 159, 132, 0) 100%), radial-gradient(63.47% 63.46% at 31.32% 63.18%, rgba(64, 86, 142, 0.2) 0%, rgba(0, 0, 0, 0) 100%), radial-gradient(19.87% 43.71% at 73.92% 40.01%, rgba(122, 159, 132, 0.116) 0%, rgba(40, 52, 59, 0.056) 100%), #263134"},"children":[["$","div",null,{"className":"hidden lg:block pt-[8rem] pb-5 w-[300px] xl:w-[400px] [&>*]:xl:w-[300px] [&>*]:mx-6 [&>*]:xl:ml-[80px] [&>*]:xl:mr-[20px] border-r border-r-white/40","style":{"background":"rgba(0, 0, 0, 0.13)"},"children":["$","aside",null,{"className":"sticky top-20 text-sm","style":"$undefined","children":[["$","h1",null,{"className":"sr-only","children":["Menu for ","Learn"]}],["$","ul",null,{"children":[["$","li",null,{"className":"relative pb-2","children":[["$","$Lc",null,{"className":"py-4 text-white","href":"/en/learn/getting-started","children":"Getting Started"}],["$","ul",null,{"children":[]}]]}],["$","li",null,{"className":"relative pb-2","children":[["$","$Lc",null,{"className":"py-4 text-white/70 hover:text-[#00FFFA]","href":"/en/learn/ports","children":"Ports and protocols"}],["$","ul",null,{"children":[]}]]}],["$","li",null,{"className":"relative pb-2","children":[["$","$Lc",null,{"className":"py-4 text-white/70 hover:text-[#00FFFA]","href":"/en/learn/requirements","children":"Deployment Requirements"}],["$","ul",null,{"children":[]}]]}]]}]]}]}],["$","div",null,{"className":"grow relative","children":["$","main",null,{"className":"max-w-4xl px-6 m-auto py-40","children":["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children",["lang","en","d"],"children","(pages)","children",["slug","learn/getting-started","c"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L8",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$Lf",null],"segment":"__PAGE__?{\"lang\":\"en\",\"slug\":[\"learn\",\"getting-started\"]}"},"styles":[]}]}]}]]}]]
f:["$","div",null,{"className":"prose dark:prose-invert max-w-none","children":[["$","h1",null,{"children":"Getting Started with TDP"}],"$L10"]}]
11:I{"id":"4292","chunks":["564:static/chunks/564-219ddc412c0ff3bf.js","771:static/chunks/app/[lang]/(reports)/contribute/reports/[...slug]/page-c5aa10f98844a0b5.js"],"name":"Code","async":false}
12:I{"id":"4292","chunks":["564:static/chunks/564-219ddc412c0ff3bf.js","771:static/chunks/app/[lang]/(reports)/contribute/reports/[...slug]/page-c5aa10f98844a0b5.js"],"name":"Pre","async":false}
10:[["$","p",null,{"children":"Use this repository to have a working directory where you run deploy commands with predefined virtual infrastructure with Vagrant or your own infrastructure.\nYou can customize the infrastructure and components of your cluster with 1 command per component."}],"\n",["$","h2",null,{"id":"setup-script","children":[["$","a",null,{"className":"anchor before","href":"#setup-script","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Setup script"]}],"\n",["$","p",null,{"children":["To help users to setup the getting started, a setup script is located ",["$","a",null,{"href":"scripts/setup.sh","children":"here"}],"."]}],"\n",["$","h3",null,{"id":"features-and-requirements","children":[["$","a",null,{"className":"anchor before","href":"#features-and-requirements","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Features and requirements"]}],"\n",["$","p",null,{"children":["The ",["$","$L11",null,{"children":"-e"}]," option is used to enable features, for example ",["$","$L11",null,{"children":"-e extras"}]," enable TDP extras. Each feature have requirements, so if you enable a feature, you ",["$","strong",null,{"children":"MUST"}]," install the feature requirements ",["$","strong",null,{"children":"BEFORE"}]," launching the setup script."]}],"\n",["$","p",null,{"children":"Common requirements are:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Python >= 3.6 with virtual env package (i.e. ",["$","$L11",null,{"children":"python3-venv"}],")"]}],"\n",["$","li",null,{"children":"Unzip (to execute the setup scripts)"}],"\n",["$","li",null,{"children":[["$","$L11",null,{"children":"jq"}]," required to execute helper script"]}],"\n"]}],"\n",["$","p",null,{"children":["Python requirements like Ansible and Mitogen are listed in the file ",["$","$L11",null,{"children":"requirements.txt"}],". The virtual environment is populated with these requirements. Therefore, you should not install them by yourself outside of the virtual environment. Only versions described in ",["$","$L11",null,{"children":"requirements.txt"}]," are supported."]}],"\n",["$","p",null,{"children":"Specific features requirements are:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","$L11",null,{"children":"vagrant"}],": see requirements in ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-vagrant","children":"https://github.com/TOSIT-IO/tdp-vagrant"}]]}],"\n",["$","li",null,{"children":[["$","$L11",null,{"children":"ui"}],": see requirements in ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-ui","children":"https://github.com/TOSIT-IO/tdp-ui"}],"."]}],"\n"]}],"\n",["$","h3",null,{"id":"release","children":[["$","a",null,{"className":"anchor before","href":"#release","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Release"]}],"\n",["$","p",null,{"children":["The ",["$","$L11",null,{"children":"-r"}]," option is for selecting ",["$","$L11",null,{"children":"stable"}]," or ",["$","$L11",null,{"children":"latest"}]," version for all features. ",["$","$L11",null,{"children":"stable"}]," is recommended if you are new to TDP. We try our best to have a ",["$","$L11",null,{"children":"stable"}]," release working. ",["$","$L11",null,{"children":"latest"}]," is recommended when you want to contribute to TDP."]}],"\n",["$","h3",null,{"id":"clean-mode","children":[["$","a",null,{"className":"anchor before","href":"#clean-mode","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Clean mode"]}],"\n",["$","p",null,{"children":["By default, the setup script will not delete your custom configuration, for example, the ",["$","$L11",null,{"children":".env"}]," file is generated by the setup script and this file is read by ",["$","$L11",null,{"children":"tdp-lib"}]," and ",["$","$L11",null,{"children":"tdp-server"}],". You can change it to your preference and rerun the setup script without losing your modification."]}],"\n",["$","p",null,{"children":["If you want a clean configuration (i.e. remove your custom change), you can add the ",["$","$L11",null,{"children":"-c"}]," flag and the setup script will remove and create files, symlink, directory it creates."]}],"\n",["$","h2",null,{"id":"quick-start","children":[["$","a",null,{"className":"anchor before","href":"#quick-start","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Quick Start"]}],"\n",["$","p",null,{"children":["The below steps will deploy a TDP cluster with ",["$","strong",null,{"children":"all features"}]," (see the line with ",["$","$L11",null,{"children":"./scripts/setup.sh"}]," and multiple ",["$","$L11",null,{"children":"-e"}]," option) so you ",["$","strong",null,{"children":"MUST"}]," install all requirements. If you want specific features, modify the ",["$","$L11",null,{"children":"./scripts/setup.sh"}]," line."]}],"\n",["$","p",null,{"children":["If Vagrant is enabled, the Ansible ",["$","$L11",null,{"children":"host.ini"}]," file will be generated using the ",["$","$L11",null,{"children":"hosts"}]," variable in ",["$","$L11",null,{"children":"tdp-vagrant/vagrant.yml"}],"."]}],"\n",["$","h3",null,{"id":"prerequisites","children":[["$","a",null,{"className":"anchor before","href":"#prerequisites","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Prerequisites"]}],"\n",["$","$L12",null,{"language":"bash","code":"# Clone project from version control\ngit clone https://github.com/TOSIT-IO/tdp-getting-started.git\n# Move into project dir\ncd tdp-getting-started\n# Setup local env with stable tdp-collection (mandatory), tdp-lib (mandatory), tdp-server, tdp-ui, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\n# Modify the line below for your needs\n./scripts/setup.sh -e server -e ui -e extras -e observability -e prerequisites -e vagrant\n# Activate Python virtual env and set environment variables\nsource ./venv/bin/activate && source .env\n# To enable mitogen (optional)\nexport ANSIBLE_STRATEGY_PLUGINS=\"$(python -c 'import os,ansible_mitogen; print(os.path.dirname(ansible_mitogen.__file__))')/plugins/strategy\"\nexport ANSIBLE_STRATEGY=\"mitogen_linear\"\n# Launch VMs\nvagrant up\n# Configure TDP prerequisites\nansible-playbook ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Clone project from version control</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">git</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">clone</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">https://github.com/TOSIT-IO/tdp-getting-started.git</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Move into project dir</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">cd</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp-getting-started</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Setup local env with stable tdp-collection (mandatory), tdp-lib (mandatory), tdp-server, tdp-ui, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Modify the line below for your needs</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">./scripts/setup.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">server</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ui</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">extras</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">observability</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">prerequisites</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">vagrant</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Activate Python virtual env and set environment variables</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">./venv/bin/activate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-punctuation)\">&amp;&amp;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># To enable mitogen (optional)</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">export</span><span style=\"color: var(--shiki-color-text)\"> ANSIBLE_STRATEGY_PLUGINS</span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-token-string-expression)\">&quot;$(</span><span style=\"color: var(--shiki-token-function)\">python</span><span style=\"color: var(--shiki-token-string-expression)\"> </span><span style=\"color: var(--shiki-token-string)\">-c</span><span style=\"color: var(--shiki-token-string-expression)\"> &#39;import os,ansible_mitogen; print(os.path.dirname(ansible_mitogen.__file__))&#39;)/plugins/strategy&quot;</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">export</span><span style=\"color: var(--shiki-color-text)\"> ANSIBLE_STRATEGY</span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-token-string-expression)\">&quot;mitogen_linear&quot;</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Launch VMs</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">vagrant</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">up</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure TDP prerequisites</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"You have four ways to deploy a TDP cluster, using TDP UI, using TDP server API, using TDP lib CLI, or using Ansible playbook."}],"\n",["$","h3",null,{"id":"deploy-with-tdp-ui","children":[["$","a",null,{"className":"anchor before","href":"#deploy-with-tdp-ui","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Deploy with TDP UI"]}],"\n",["$","$L12",null,{"language":"bash","code":"# Open a new terminal and activate python virtual env\nsource ./venv/bin/activate && source .env\n# Start tdp-server\nuvicorn tdp_server.main:app --reload\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Open a new terminal and activate python virtual env</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">./venv/bin/activate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-punctuation)\">&amp;&amp;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Start tdp-server</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">uvicorn</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_server.main:app</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--reload</span></span>\n<span></span>"}]}],"\n",["$","$L12",null,{"language":"bash","code":"# Open a new terminal and start tdp-ui\nnpm --prefix ./tdp-ui run dev\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Open a new terminal and start tdp-ui</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">npm</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--prefix</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">./tdp-ui</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">run</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">dev</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"In the UI, click on “Deployments”, “New deployment”, “Deploy from the DAG”, “Preview” (by default all services are deployed), “Deploy”."}],"\n",["$","p",null,{"children":"You can see the deployment in the “Deployments” page. Wait deployment to complete."}],"\n",["$","$L12",null,{"language":"bash","code":"# Configure HDFS user home directories\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\n# Configure Ranger policies\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Configure HDFS user home directories</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure Ranger policies</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"deploy-with-tdp-server-api","children":[["$","a",null,{"className":"anchor before","href":"#deploy-with-tdp-server-api","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Deploy with TDP server API"]}],"\n",["$","$L12",null,{"language":"bash","code":"# Open a new terminal and activate python virtual env\nsource ./venv/bin/activate && source .env\n# Start tdp-server\nuvicorn tdp_server.main:app --reload\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Open a new terminal and activate python virtual env</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">./venv/bin/activate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-punctuation)\">&amp;&amp;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">source</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.env</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Start tdp-server</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">uvicorn</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_server.main:app</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--reload</span></span>\n<span></span>"}]}],"\n",["$","$L12",null,{"language":"bash","code":"# Deploy TDP cluster core and extras services\ncurl -X POST http://localhost:8000/api/v1/deploy/dag\n# You can see the log in the tdp-server output (the terminal where uvicorn is running)\n# Wait deployment\nwhile ! curl -s http://localhost:8000/api/v1/deploy/status | grep -q \"no deployment on-going\"; do sleep 10; done\n# Configure HDFS user home directories\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\n# Configure Ranger policies\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Deploy TDP cluster core and extras services</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-X</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">POST</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">http://localhost:8000/api/v1/deploy/dag</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># You can see the log in the tdp-server output (the terminal where uvicorn is running)</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Wait deployment</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">while</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">!</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-s</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">http://localhost:8000/api/v1/deploy/status</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">|</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">grep</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-q</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&quot;no deployment on-going&quot;</span><span style=\"color: var(--shiki-color-text)\">; </span><span style=\"color: var(--shiki-token-keyword)\">do</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">sleep</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">10</span><span style=\"color: var(--shiki-color-text)\">; </span><span style=\"color: var(--shiki-token-keyword)\">done</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure HDFS user home directories</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure Ranger policies</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"deploy-with-tdp-lib-cli","children":[["$","a",null,{"className":"anchor before","href":"#deploy-with-tdp-lib-cli","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Deploy with TDP lib CLI"]}],"\n",["$","$L12",null,{"language":"bash","code":"# Deploy TDP cluster core and extras services\ntdp deploy\n# Configure HDFS user home directories\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\n# Configure Ranger policies\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Deploy TDP cluster core and extras services</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">tdp</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">deploy</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure HDFS user home directories</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure Ranger policies</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"deploy-with-ansible-playbook","children":[["$","a",null,{"className":"anchor before","href":"#deploy-with-ansible-playbook","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Deploy with Ansible playbook"]}],"\n",["$","$L12",null,{"language":"bash","code":"# Deploy TDP cluster core services\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/all.yml\n# Deploy extras services\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\nansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\n# Deploy observability services\nansible-playbook ansible_collections/tosit/tdp_observability/playbooks/meta/prometheus.yml\nansible-playbook ansible_collections/tosit/tdp_observability/playbooks/meta/grafana.yml\n# Configure HDFS user home directories\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\n# Configure Ranger policies\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Deploy TDP cluster core services</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/all.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Deploy extras services</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Deploy observability services</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_observability/playbooks/meta/prometheus.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_observability/playbooks/meta/grafana.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure HDFS user home directories</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Configure Ranger policies</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml</span></span>\n<span></span>"}]}],"\n",["$","h2",null,{"id":"web-uis-links","children":[["$","a",null,{"className":"anchor before","href":"#web-uis-links","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Web UIs Links"]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-01.tdp:9871/dfshealth.html","children":"HDFS NN Master 01"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-02.tdp:9871/dfshealth.html","children":"HDFS NN Master 02"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-01.tdp:8090/cluster/apps","children":"YARN RM Master 01"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-02.tdp:8090/cluster/apps","children":"YARN RM Master 02"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-03.tdp:19890/jobhistory","children":"MapReduce Job History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-01.tdp:16010/master-status","children":"HBase Master 01"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-02.tdp:16010/master-status","children":"HBase Master 02"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-03.tdp:18081/","children":"Spark History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-03.tdp:18083/","children":"Spark3 History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-03.tdp:6182/index.html","children":"Ranger Admin"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://master-03.tdp:8000/","children":"JupyterHub"}]}],"\n"]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note:"}]," All the WebUIs are Kerberized, you need to have a working Kerberos client on your host, configure the KDC in your ",["$","$L11",null,{"children":"/etc/krb5.conf"}]," file and obtain a valid ticket. You can also access the WebUIs through ",["$","a",null,{"href":"#knox","children":"Knox"}],"."]}],"\n",["$","h2",null,{"id":"customised-deployment","children":[["$","a",null,{"className":"anchor before","href":"#customised-deployment","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Customised Deployment"]}],"\n",["$","p",null,{"children":"Each of the below sections includes a high-level explanation of each possible step of TDP deployment."}],"\n",["$","h3",null,{"id":"environment-setup","children":[["$","a",null,{"className":"anchor before","href":"#environment-setup","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Environment Setup"]}],"\n",["$","p",null,{"children":["Execute the ",["$","$L11",null,{"children":"setup.sh"}]," script to create the project directories needed and clone stable or latest Ansible TDP collections. It also downloads the TDP binaries from their GitHub releases (e.g., ",["$","a",null,{"href":"https://github.com/TOSIT-IO/hadoop/releases/tag/hadoop-project-dist-3.1.1-TDP-0.1.0-SNAPSHOT","children":"Hadoop"}],")."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note:"}]," The list of TDP binaries needed for deployment is maintained in the ",["$","$L11",null,{"children":"scripts/tdp-release-uris.txt"}]," file."]}],"\n",["$","$L12",null,{"language":"bash","code":"# Get stable tdp-collection\n./scripts/setup.sh\n# Get latest tdp-collection, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant\n./scripts/setup.sh -e extras -e observability -e prerequisites -e vagrant -r latest\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># Get stable tdp-collection</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">./scripts/setup.sh</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Get latest tdp-collection, tdp-collection-extras, tdp-observability, tdp-collection-prerequisites, and vagrant</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">./scripts/setup.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">extras</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">observability</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">prerequisites</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-e</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">vagrant</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-r</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">latest</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"configure-infrastructure","children":[["$","a",null,{"className":"anchor before","href":"#configure-infrastructure","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Configure infrastructure"]}],"\n",["$","h4",null,{"id":"use-tdp-vagrant","children":"Use TDP Vagrant"}],"\n",["$","p",null,{"children":["To use ",["$","$L11",null,{"children":"tdp-vagrant"}]," it is necessary to use the ",["$","$L11",null,{"children":"-e vagrant"}]," option when using ",["$","$L11",null,{"children":"setup.sh"}],"."]}],"\n",["$","p",null,{"children":["You can define ",["$","$L11",null,{"children":"vagrant.yml"}]," file to update the machine resources according to your machine’s RAM and core count (3Gb of RAM and 4 cores is ideal for the master nodes). The file ",["$","$L11",null,{"children":"tdp-vagrant/vagrant.yml"}]," contains default values."]}],"\n",["$","$L12",null,{"language":"bash","code":"cp tdp-vagrant/vagrant.yml .\n# Now you can edit ./vagrant.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">cp</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp-vagrant/vagrant.yml</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">.</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Now you can edit ./vagrant.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Important:"}]," Do not modify ",["$","$L11",null,{"children":"tdp-vagrant/vagrant.yml"}]," to make it easier to update git submodule. The Vagrantfile will read ",["$","$L11",null,{"children":"vagrant.yml"}]," in the current directory and fallback to ",["$","$L11",null,{"children":"tdp-vagrant/vagrant.yml"}],"."]}],"\n",["$","p",null,{"children":["Start VMs with ",["$","$L11",null,{"children":"vagrant"}]," command."]}],"\n",["$","$L12",null,{"language":"bash","code":"vagrant up\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">vagrant</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">up</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["For TDP Vagrant usage see ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-vagrant","children":"https://github.com/TOSIT-IO/tdp-vagrant"}],"."]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note:"}]," The ",["$","$L11",null,{"children":"helper.sh"}]," script can generate the list of hosts in the cluster. Add the generated lines to your ",["$","$L11",null,{"children":"/etc/hosts"}]," file to resolve the local nodes from your shell or browser."]}],"\n",["$","$L12",null,{"language":"bash","code":"./scripts/helper.sh -h\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">./scripts/helper.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-h</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"configure-prerequisites","children":[["$","a",null,{"className":"anchor before","href":"#configure-prerequisites","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Configure prerequisites"]}],"\n",["$","p",null,{"children":["To use ",["$","$L11",null,{"children":"tdp-collection-prerequisites"}]," it is necessary to use the ",["$","$L11",null,{"children":"-e prerequisites"}]," option when using ",["$","$L11",null,{"children":"setup.sh"}],"."]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_prerequisites/playbooks/all.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"This playbook deploys the following services: Chrony, a CA, a LDAP, a KDC, a PostgreSQL."}],"\n",["$","p",null,{"children":["For TDP prerequisites usage see ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-collection-prerequisites","children":"https://github.com/TOSIT-IO/tdp-collection-prerequisites"}],"."]}],"\n",["$","h3",null,{"id":"core-services-deployment","children":[["$","a",null,{"className":"anchor before","href":"#core-services-deployment","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Core Services Deployment"]}],"\n",["$","h4",null,{"id":"tdp-lib-command","children":"TDP lib command"}],"\n",["$","$L12",null,{"language":"bash","code":"tdp deploy\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">tdp</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">deploy</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"This command deploys all core and extra (if enable during setup) services."}],"\n",["$","p",null,{"children":["For TDP lib usage see ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-lib","children":"https://github.com/TOSIT-IO/tdp-lib"}],"."]}],"\n",["$","h4",null,{"id":"main-playbook","children":"Main playbook"}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/all.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/all.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["This playbook deploys the following services: Exporter, ZooKeeper, Hadoop core (HDFS, YARN, MapReduce), Ranger, Hive, Spark (2 and 3), HBase and Knox. ",["$","strong",null,{"children":["It does not deploy extras services (see ",["$","a",null,{"href":"#extras-services-deployment","children":"Extras Services Deployment"}]," to deploy it)."]}]]}],"\n",["$","p",null,{"children":["For TDP usage see ",["$","a",null,{"href":"https://github.com/TOSIT-IO/tdp-collection","children":"https://github.com/TOSIT-IO/tdp-collection"}],"."]}],"\n",["$","h4",null,{"id":"exporter","children":"Exporter"}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/exporter.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/exporter.yml</span></span>\n<span></span>"}]}],"\n",["$","h4",null,{"id":"zookeeper","children":"Zookeeper"}],"\n",["$","p",null,{"children":["Deploys Apache ZooKeeper to the ",["$","$L11",null,{"children":"[zk]"}]," Ansible group and starts a 3 node Zookeeper Quorum."]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/zookeeper.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/zookeeper.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["$","em",null,{"children":["Run ",["$","$L11",null,{"children":"echo stat | nc localhost 2181"}]," from any node in the ",["$","$L11",null,{"children":"[zk]"}]," group to see its ZooKeeper status."]}]}],"\n",["$","h4",null,{"id":"ranger","children":"Ranger"}],"\n",["$","p",null,{"children":["Deploys Ranger to the ",["$","$L11",null,{"children":"[ranger_admin]"}]," Ansible group."]}],"\n",["$","p",null,{"children":["$","em",null,{"children":["Note that any changes to the ",["$","$L11",null,{"children":"[ranger_admin]"}]," hosts should also be reflected in the ",["$","$L11",null,{"children":"[hadoop client group"}],"]."]}]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/ranger.yml"}],"\n",["$","p",null,{"children":["The Ranger UI can be accessed at the address ",["$","$L11",null,{"children":"https://<master-02.tdp ip>:6182/login.jsp"}]," and the user ",["$","$L11",null,{"children":"admin"}]," and password ",["$","$L11",null,{"children":"RangerAdmin123"}]," (assuming default ",["$","$L11",null,{"children":"ranger_admin_password"}]," parameter). You may need to import the ",["$","$L11",null,{"children":"root.pem"}]," certificate authority into your browser or accept the SSL exception."]}],"\n",["$","h4",null,{"id":"launch-hdfs-yarn--mapreduce","children":"Launch HDFS, YARN & MapReduce"}],"\n",["$","p",null,{"children":"Launches HDFS, YARN, and deploys MapReduce clients."}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hadoop.yml\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hdfs.yml\nansible-playbook ansible_collections/tosit/tdp/playbooks/meta/yarn.yml\nansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/hadoop.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/hdfs.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/meta/yarn.yml</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":[["$","$L11",null,{"children":"tdp_user"}]," can access and write to its HDFS user directory:"]}],"\n",["$","$L12",null,{"language":"bash","code":"# From edge-01.tdp\nsudo su - tdp_user\nkinit -ki\necho \"This is the first line.\" | hdfs dfs -put - /user/tdp_user/test-file.txt\necho \"This is the second (appended) line.\" | hdfs dfs -appendToFile - /user/tdp_user/test-file.txt\nhdfs dfs -cat /user/tdp_user/test-file.txt\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># From edge-01.tdp</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">sudo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">su</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_user</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kinit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-ki</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">echo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&quot;This is the first line.&quot;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">|</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">hdfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">dfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-put</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/user/tdp_user/test-file.txt</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">echo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&quot;This is the second (appended) line.&quot;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">|</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">hdfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">dfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-appendToFile</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/user/tdp_user/test-file.txt</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">hdfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">dfs</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-cat</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/user/tdp_user/test-file.txt</span></span>\n<span></span>"}]}],"\n",["$","h4",null,{"id":"hive","children":"Hive"}],"\n",["$","p",null,{"children":["Deploys Hive to the ",["$","$L11",null,{"children":"[hive_s2]"}]," Ansible group. HDFS filesystem is created and the service is launched."]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hive.yml"}],"\n",["$","p",null,{"children":["To interact with Hive, use the ",["$","$L11",null,{"children":"beeline"}]," CLI:"]}],"\n",["$","$L12",null,{"language":"bash","code":"# From edge-01.tdp\nsudo su - tdp_user\nkinit -ki\nexport hive_truststore_password='Truststore123!'\n\n# Connect to a random HiveServer2 using ZooKeeper\nbeeline -u \"jdbc:hive2://master-01.tdp:2181,master-02.tdp:2181,master-03.tdp:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\"\n\n# Or directly to a HiveServer2\nbeeline -u \"jdbc:hive2://master-03.tdp:10001/;principal=hive/_HOST@REALM.TDP;transportMode=http;httpPath=cliservice;ssl=true;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}\"\n\n# You can also use `beeline` alone which will default to the ZooKeeper mode\nbeeline\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># From edge-01.tdp</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">sudo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">su</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_user</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kinit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-ki</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">export</span><span style=\"color: var(--shiki-color-text)\"> hive_truststore_password</span><span style=\"color: var(--shiki-token-keyword)\">=</span><span style=\"color: var(--shiki-token-string-expression)\">&#39;Truststore123!&#39;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Connect to a random HiveServer2 using ZooKeeper</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">beeline</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&quot;jdbc:hive2://master-01.tdp:2181,master-02.tdp:2181,master-03.tdp:2181/;serviceDiscoveryMode=zooKeeper;zooKeeperNamespace=hiveserver2;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}&quot;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Or directly to a HiveServer2</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">beeline</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&quot;jdbc:hive2://master-03.tdp:10001/;principal=hive/_HOST@REALM.TDP;transportMode=http;httpPath=cliservice;ssl=true;sslTrustStore=/etc/ssl/certs/truststore.jks;trustStorePassword=${hive_truststore_password}&quot;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># You can also use `beeline` alone which will default to the ZooKeeper mode</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">beeline</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":"From the Beeline shell:"}],"\n",["$","$L12",null,{"language":"sql","code":"-- Create the database\nCREATE DATABASE IF NOT EXISTS tdp_user LOCATION '/user/tdp_user/warehouse/tdp_user.db';\nUSE tdp_user;\n\n-- Examine the database\nSHOW DATABASES;\nSHOW TABLES;\n\n-- Modify the database\nCREATE TABLE IF NOT EXISTS table1 (\n  col1 INT COMMENT 'Integer Column',\n  col2 STRING COMMENT 'String Column'\n);\n\n-- Examine the database\nSHOW TABLES;\n\n-- Modify the database table\nINSERT INTO TABLE table1 VALUES (1, 'one'), (2, 'two');\n\n-- Examine the database table\nSELECT * FROM table1;\n","children":["$","$L11",null,{"className":"language-sql","children":"<span><span style=\"color: var(--shiki-token-comment)\">-- Create the database</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">CREATE</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">DATABASE</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">IF</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">NOT</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">EXISTS</span><span style=\"color: var(--shiki-color-text)\"> tdp_user </span><span style=\"color: var(--shiki-token-keyword)\">LOCATION</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;/user/tdp_user/warehouse/tdp_user.db&#39;</span><span style=\"color: var(--shiki-color-text)\">;</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">USE</span><span style=\"color: var(--shiki-color-text)\"> tdp_user;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\">-- Examine the database</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">SHOW DATABASES;</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">SHOW TABLES;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\">-- Modify the database</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">CREATE</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">TABLE</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-function)\">IF</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">NOT</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">EXISTS</span><span style=\"color: var(--shiki-color-text)\"> table1 (</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  col1 </span><span style=\"color: var(--shiki-token-keyword)\">INT</span><span style=\"color: var(--shiki-color-text)\"> COMMENT </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;Integer Column&#39;</span><span style=\"color: var(--shiki-color-text)\">,</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  col2 STRING COMMENT </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;String Column&#39;</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">);</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\">-- Examine the database</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">SHOW TABLES;</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\">-- Modify the database table</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">INSERT INTO</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">TABLE</span><span style=\"color: var(--shiki-color-text)\"> table1 </span><span style=\"color: var(--shiki-token-keyword)\">VALUES</span><span style=\"color: var(--shiki-color-text)\"> (</span><span style=\"color: var(--shiki-token-constant)\">1</span><span style=\"color: var(--shiki-color-text)\">, </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;one&#39;</span><span style=\"color: var(--shiki-color-text)\">), (</span><span style=\"color: var(--shiki-token-constant)\">2</span><span style=\"color: var(--shiki-color-text)\">, </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;two&#39;</span><span style=\"color: var(--shiki-color-text)\">);</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\">-- Examine the database table</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">SELECT</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">*</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-keyword)\">FROM</span><span style=\"color: var(--shiki-color-text)\"> table1;</span></span>\n<span></span>"}]}],"\n",["$","h4",null,{"id":"spark","children":"Spark"}],"\n",["$","p",null,{"children":["Deploys spark installations to the ",["$","$L11",null,{"children":"[spark_hs]"}]," and the ",["$","$L11",null,{"children":"[spark_client]"}]," Ansible group."]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark.yml"}],"\n",["$","p",null,{"children":"To submit a Spark application:"}],"\n",["$","$L12",null,{"language":"bash","code":"# From edge-01.tdp\nsudo su - tdp_user\nkinit -ki\n\n# Run a spark application locally\nspark-submit --class org.apache.spark.examples.SparkPi --master local[4]  /opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar 100\n\n# Or spark-submit a spark application to yarn\nspark-submit --class org.apache.spark.examples.SparkPi --master yarn  /opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar 100\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># From edge-01.tdp</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">sudo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">su</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_user</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kinit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-ki</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Run a spark application locally</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">spark-submit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--class</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">org.apache.spark.examples.SparkPi</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--master</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">local[</span><span style=\"color: var(--shiki-token-constant)\">4</span><span style=\"color: var(--shiki-token-string)\">]</span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">100</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Or spark-submit a spark application to yarn</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">spark-submit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--class</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">org.apache.spark.examples.SparkPi</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--master</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">yarn</span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">/opt/tdp/spark/examples/jars/spark-examples_2.11-2.3.5-TDP-0.1.0-SNAPSHOT.jar</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-constant)\">100</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":[["$","strong",null,{"children":"Note:"}]," Other Spark CLIs are available: ",["$","$L11",null,{"children":"pyspark"}],", ",["$","$L11",null,{"children":"spark-shell"}],", ",["$","$L11",null,{"children":"spark-sql"}],"."]}],"\n",["$","h4",null,{"id":"spark-3","children":"Spark 3"}],"\n",["$","p",null,{"children":["Deploys spark3 installations to the ",["$","$L11",null,{"children":"[spark3_hs]"}]," and the ",["$","$L11",null,{"children":"[spark3_client]"}]," Ansible group."]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/spark3.yml"}],"\n",["$","p",null,{"children":["Spark 3 is installed alongside Spark 2 and can be used exactly the same way. The Spark 3 CLIs are: ",["$","$L11",null,{"children":"spark3-submit"}],", ",["$","$L11",null,{"children":"spark3-shell"}],", ",["$","$L11",null,{"children":"spark3-sql"}],", ",["$","$L11",null,{"children":"pyspark3"}],"."]}],"\n",["$","h4",null,{"id":"hbase","children":"HBase"}],"\n",["$","p",null,{"children":["Deploys HBase masters, regionservers, rest and clients to the ",["$","$L11",null,{"children":"[hbase_master]"}],", ",["$","$L11",null,{"children":"[hbase_rs]"}],", ",["$","$L11",null,{"children":"[hbase_rest]"}]," and ",["$","$L11",null,{"children":"[hbase_client]"}]," Ansible groups respectively."]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/hbase.yml"}],"\n",["$","p",null,{"children":["As ",["$","$L11",null,{"children":"tdp_user"}]," on ",["$","$L11",null,{"children":"edge-01"}],", obtain a Kerberos TGT with the command ",["$","$L11",null,{"children":"kinit -ki"}]," and access the HBase shell with the command ",["$","$L11",null,{"children":"hbase shell"}],"."]}],"\n",["$","p",null,{"children":"Commands such as the below can be used to test your HBase deployment:"}],"\n",["$","p",null,{"children":"list\nlist_namespace\ncreate ‘tdp_user_table’, ‘cf’\nput ‘tdp_user_table’, ‘row1’, ‘cf:testColumn’, ‘testValue’\ndisable ‘tdp_user_table’\ndrop ‘tdp_user_table’"}],"\n",["$","h4",null,{"id":"knox","children":"Knox"}],"\n",["$","p",null,{"children":["Deploys Knox Gateway on the ",["$","$L11",null,{"children":"[knox]"}]," Ansible group:"]}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/meta/knox.yml"}],"\n",["$","p",null,{"children":"You can then access the WebUIs of the TDP services through Knox:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/hdfs","children":"HDFS NN"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/yarn","children":"YARN RM"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/jobhistory","children":"MapReduce Job History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/hbase/webui/master/master-status?host=master-01.tdp&port=16010","children":"HBase Master"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/sparkhistory","children":"Spark History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/spark3history","children":"Spark3 History Server"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"https://edge-01.tdp:8443/gateway/tdpldap/ranger","children":"Ranger Admin"}]}],"\n"]}],"\n",["$","p",null,{"children":["$","em",null,{"children":["Note: You can login to Knox using the ",["$","$L11",null,{"children":"tdp_user"}]," that is created in the next step."]}]}],"\n",["$","h3",null,{"id":"extras-services-deployment","children":[["$","a",null,{"className":"anchor before","href":"#extras-services-deployment","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Extras Services Deployment"]}],"\n",["$","h4",null,{"id":"livy","children":"Livy"}],"\n",["$","p",null,{"children":["Deploys Livy Server on the ",["$","$L11",null,{"children":"[livy_server]"}]," group hosts:"]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/livy.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["The Livy Server can be accessed at ",["$","a",null,{"href":"https://edge-01.tdp:8998","children":"https://edge-01.tdp:8998"}]," After deployment, one can create a Spark session and interact with it through cURL:"]}],"\n",["$","$L12",null,{"language":"bash","code":"# From edge-01.tdp\nsudo su - tdp_user\nkinit -ki\n\n# Create a session\ncurl -k -u : --negotiate -X POST https://edge-01.tdp:8998/sessions \\\n  -d '{\"kind\": \"pyspark\"}' -H 'Content-Type: application/json'\n# Get the session status (wait until it is \"idle\")\ncurl -k -u : --negotiate -X GET https://edge-01.tdp:8998/sessions\n# Submit a snippet of code to the session\ncurl -k -u : --negotiate -X POST https://edge-01.tdp:8998/sessions/0/statements \\\n  -d '{\"code\": \"1 + 1\"}' -H 'Content-Type: application/json'\n# Get the statement result\ncurl -k -u : --negotiate -X GET https://edge-01.tdp:8998/sessions/0/statements/0\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-comment)\"># From edge-01.tdp</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">sudo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">su</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_user</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kinit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-ki</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Create a session</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-k</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--negotiate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-X</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">POST</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">https://edge-01.tdp:8998/sessions</span><span style=\"color: var(--shiki-color-text)\"> \\</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">-d</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;{&quot;kind&quot;: &quot;pyspark&quot;}&#39;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-H</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;Content-Type: application/json&#39;</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Get the session status (wait until it is &quot;idle&quot;)</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-k</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--negotiate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-X</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">GET</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">https://edge-01.tdp:8998/sessions</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Submit a snippet of code to the session</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-k</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--negotiate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-X</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">POST</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">https://edge-01.tdp:8998/sessions/0/statements</span><span style=\"color: var(--shiki-color-text)\"> \\</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">-d</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;{&quot;code&quot;: &quot;1 + 1&quot;}&#39;</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-H</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string-expression)\">&#39;Content-Type: application/json&#39;</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Get the statement result</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">curl</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-k</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-u</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">:</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--negotiate</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-X</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">GET</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">https://edge-01.tdp:8998/sessions/0/statements/0</span></span>\n<span></span>"}]}],"\n",["$","h4",null,{"id":"livy-for-spark-3","children":"Livy for Spark 3"}],"\n",["$","p",null,{"children":["Another Livy server is deployed for Spark 3 on the ",["$","$L11",null,{"children":"[livy-spark3_server]"}]," group hosts:"]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/livy-spark3.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["The default port is different than the regular Livy server: ",["$","$L11",null,{"children":"8999"}]," instead of ",["$","$L11",null,{"children":"8998"}],"."]}],"\n",["$","h4",null,{"id":"zookeeper-kafka","children":"Zookeeper Kafka"}],"\n",["$","p",null,{"children":["Deploys Apache ZooKeeper to the ",["$","$L11",null,{"children":"[zk_kafka]"}]," Ansible group and starts a 3 node Zookeeper Quorum dedicated to Kafka."]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/zookeeper-kafka.yml</span></span>\n<span></span>"}]}],"\n",["$","h4",null,{"id":"kafka","children":"Kafka"}],"\n",["$","p",null,{"children":["Deploys a Kafka cluster on the ",["$","$L11",null,{"children":"[kafka_broker]"}]," group hosts:"]}],"\n",["$","$L12",null,{"language":"bash","code":"ansible-playbook ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml\n","children":["$","$L11",null,{"className":"language-bash","children":"<span><span style=\"color: var(--shiki-token-function)\">ansible-playbook</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">ansible_collections/tosit/tdp_extra/playbooks/meta/kafka.yml</span></span>\n<span></span>"}]}],"\n",["$","p",null,{"children":["The Kafka CLIs are available on the edge node for all users and client properties files are in ",["$","$L11",null,{"children":"/etc/kafka/conf/*.properties"}],". After deployment, one can interact with Kafka from ",["$","$L11",null,{"children":"edge-01.tdp"}],":"]}],"\n",["$","$L12",null,{"language":"sh","code":"# From edge-01.tdp\nsudo su - tdp_user\nkinit -ki\n\n# Create a topic\nkafka-topics.sh --create --topic test-topic \\\n  --command-config /etc/kafka/conf/client.properties\n# Write messages to the topic\nkafka-console-producer.sh --topic test-topic \\\n  --producer.config /etc/kafka/conf/producer.properties\n>Hello there\n>I am writting messages to a Kafka topic\n>How cool is that?\n>^C # CTRL+C to leave the console producer\n# Read all messages from the topic\nkafka-console-consumer.sh --topic test-topic --from-beginning \\\n  --consumer.config /etc/kafka/conf/consumer.properties\n","children":["$","$L11",null,{"className":"language-sh","children":"<span><span style=\"color: var(--shiki-token-comment)\"># From edge-01.tdp</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">sudo</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">su</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">tdp_user</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kinit</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">-ki</span></span>\n<span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Create a topic</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kafka-topics.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--create</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--topic</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">test-topic</span><span style=\"color: var(--shiki-color-text)\"> \\</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">--command-config</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/etc/kafka/conf/client.properties</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Write messages to the topic</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kafka-console-producer.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--topic</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">test-topic</span><span style=\"color: var(--shiki-color-text)\"> \\</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">--producer.config</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/etc/kafka/conf/producer.properties</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">&gt;</span><span style=\"color: var(--shiki-color-text)\">Hello there</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">&gt;</span><span style=\"color: var(--shiki-color-text)\">I am writting messages to a Kafka topic</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">&gt;</span><span style=\"color: var(--shiki-color-text)\">How cool is that</span><span style=\"color: var(--shiki-token-keyword)\">?</span></span>\n<span><span style=\"color: var(--shiki-token-keyword)\">&gt;</span><span style=\"color: var(--shiki-color-text)\">^C </span><span style=\"color: var(--shiki-token-comment)\"># CTRL+C to leave the console producer</span></span>\n<span><span style=\"color: var(--shiki-token-comment)\"># Read all messages from the topic</span></span>\n<span><span style=\"color: var(--shiki-token-function)\">kafka-console-consumer.sh</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--topic</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">test-topic</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">--from-beginning</span><span style=\"color: var(--shiki-color-text)\"> \\</span></span>\n<span><span style=\"color: var(--shiki-color-text)\">  </span><span style=\"color: var(--shiki-token-string)\">--consumer.config</span><span style=\"color: var(--shiki-color-text)\"> </span><span style=\"color: var(--shiki-token-string)\">/etc/kafka/conf/consumer.properties</span></span>\n<span></span>"}]}],"\n",["$","h3",null,{"id":"utils","children":[["$","a",null,{"className":"anchor before","href":"#utils","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":"18","height":"18","viewBox":"0 0 16 16","children":["$","path",null,{"d":"M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"}]}]}],"Utils"]}],"\n",["$","h4",null,{"id":"configure-hdfs-user-home-directories","children":"Configure HDFS user home directories"}],"\n",["$","p",null,{"children":"Create, update, remove HDFS user home directories."}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/hdfs_user_homes.yml"}],"\n",["$","p",null,{"children":["$","em",null,{"children":["Additional users can be added to the Ansible variable ",["$","$L11",null,{"children":"hdfs_user_homes"}]," if required."]}]}],"\n",["$","p",null,{"children":"When adding users following the Ranger Usersync deployment, you will need to add or update Ranger policies including these new users. You must wait for Ranger Usersync to poll users from LDAP or you can restart the Ranger Usersync using the following playbook:"}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/ranger_usersync_restart.yml"}],"\n",["$","h4",null,{"id":"configure-ranger-policies","children":"Configure Ranger policies"}],"\n",["$","p",null,{"children":"Create, update, remove Ranger policies."}],"\n",["$","p",null,{"children":"ansible-playbook ansible_collections/tosit/tdp/playbooks/utils/ranger_policies.yml"}],"\n",["$","p",null,{"children":["$","em",null,{"children":["Additional policies can be added to the Ansible variable ",["$","$L11",null,{"children":"ranger_policies"}]," if required."]}]}]]
